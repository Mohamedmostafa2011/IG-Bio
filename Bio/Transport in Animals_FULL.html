<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>IG-Bio | Ch 9: Transport in Animals</title>
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=Crimson+Pro:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- PDF Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

    <style>
        :root {
            /* Theme: Red / Rose for Blood & Heart */
            --primary: #be123c; /* Rose 700 */
            --primary-dark: #881337; /* Rose 900 */
            --accent: #f43f5e; /* Rose 500 */
            --bg: #fff1f2; /* Light Rose tint */
            --text: #334155;
            --sidebar-w: 280px;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }

        body {
            font-family: 'Inter', sans-serif;
            background: var(--bg);
            color: var(--text);
            height: 100vh;
            display: flex;
            overflow: hidden;
        }

        /* --- NAVIGATION BUTTON (Fixed Circular) --- */
        .menu-toggle {
            display: none; /* Hidden on desktop */
            position: fixed; top: 20px; left: 20px; z-index: 3000;
            background: var(--primary); color: white; border: none;
            width: 50px; height: 50px; border-radius: 50%;
            font-size: 1.4rem; cursor: pointer;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            align-items: center; justify-content: center;
            transition: transform 0.2s;
        }
        .menu-toggle:active { transform: scale(0.9); }

        /* --- MOBILE OVERLAY --- */
        .overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.5); z-index: 1999;
            opacity: 0; visibility: hidden; transition: 0.3s;
            backdrop-filter: blur(2px);
        }
        .overlay.active { opacity: 1; visibility: visible; }

        /* --- SIDEBAR --- */
        aside {
            width: var(--sidebar-w);
            background: #4c0519; /* Very Dark Rose */
            color: white;
            display: flex;
            flex-direction: column;
            padding: 30px 20px;
            flex-shrink: 0;
            z-index: 2000;
            border-right: 1px solid #881337;
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .brand {
            font-size: 1.5rem; font-weight: 800; color: #fb7185; margin-bottom: 40px;
            display: flex; align-items: center; gap: 10px; letter-spacing: -0.5px;
        }

        .nav-item {
            padding: 16px; margin-bottom: 8px; border-radius: 8px;
            cursor: pointer; color: #fecdd3; font-weight: 600;
            display: flex; align-items: center; gap: 15px; transition: 0.2s;
            border: 1px solid transparent;
        }
        .nav-item:hover { background: rgba(255,255,255,0.1); color: white; }
        .nav-item.active { background: var(--primary); color: white; box-shadow: 0 4px 12px rgba(190, 18, 60, 0.4); }

        /* --- MAIN CONTENT --- */
        main { flex: 1; position: relative; overflow: hidden; width: 100%; }

        .view-panel {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            overflow-y: auto; padding: 0; display: none; opacity: 0;
            transition: opacity 0.4s;
        }
        .view-panel.active { display: block; opacity: 1; }

        /* --- TEXTBOOK STYLING --- */
        .paper {
            max-width: 950px; margin: 0 auto; background: white;
            padding: 80px; min-height: 100vh;
            box-shadow: 0 0 40px rgba(0,0,0,0.05);
        }

        h1 { font-family: 'Inter', sans-serif; font-size: 3rem; color: var(--primary-dark); margin-bottom: 10px; letter-spacing: -1px; }
        .meta { color: #9f1239; text-transform: uppercase; font-weight: bold; font-size: 0.8rem; letter-spacing: 1px; }
        
        h2 { 
            font-family: 'Inter', sans-serif; font-size: 1.8rem; color: #4c0519; 
            margin-top: 60px; margin-bottom: 25px; padding-bottom: 15px; 
            border-bottom: 2px solid #fda4af; display: flex; align-items: center; gap: 10px;
        }
        
        h3 { font-family: 'Inter', sans-serif; font-size: 1.3rem; color: var(--primary); margin-top: 35px; margin-bottom: 15px; }

        p {
            font-family: 'Crimson Pro', serif; font-size: 1.2rem; line-height: 1.8;
            color: #334155; margin-bottom: 20px;
        }
        li { font-family: 'Crimson Pro', serif; font-size: 1.15rem; line-height: 1.7; margin-bottom: 8px; margin-left: 20px; }
        
        /* Concept Boxes */
        .concept-box {
            background: #ffe4e6; border-left: 5px solid var(--primary);
            padding: 25px; margin: 30px 0; border-radius: 0 8px 8px 0;
        }
        .concept-box strong { color: var(--primary-dark); font-family: 'Inter', sans-serif; }

        .exam-tip {
            background: #fffbeb; border: 1px solid #fcd34d; border-radius: 8px;
            padding: 20px; margin: 30px 0; display: flex; gap: 15px; align-items: flex-start;
        }
        .exam-tip i { color: #d97706; font-size: 1.5rem; margin-top: 3px; }
        .exam-tip strong { color: #92400e; }

        /* Tables */
        .t-wrap { overflow-x: auto; margin: 30px 0; border: 1px solid #fda4af; border-radius: 8px; }
        table { width: 100%; border-collapse: collapse; min-width: 700px; }
        th { background: #fff1f2; color: var(--primary-dark); padding: 16px; text-align: left; font-family: 'Inter', sans-serif; font-weight: 700; border-bottom: 2px solid #fb7185; }
        td { padding: 16px; border-bottom: 1px solid #fda4af; vertical-align: top; font-family: 'Crimson Pro', serif; font-size: 1.1rem; }
        tr:last-child td { border-bottom: none; }

        /* --- MIND MAP --- */
        .mm-wrapper { padding: 80px; display: inline-flex; min-width: 100%; justify-content: center; background: #fff1f2; }
        .tree ul { padding-top: 20px; position: relative; display: flex; justify-content: center; }
        .tree li { float: left; text-align: center; list-style-type: none; position: relative; padding: 20px 10px 0 10px; }
        .tree li::before, .tree li::after { content: ''; position: absolute; top: 0; right: 50%; border-top: 2px solid #fda4af; width: 50%; height: 20px; }
        .tree li::after { right: auto; left: 50%; border-left: 2px solid #fda4af; }
        .tree li:only-child::after, .tree li:only-child::before { display: none; } .tree li:only-child { padding-top: 0; }
        .tree li:first-child::before, .tree li:last-child::after { border: 0 none; }
        .tree li:last-child::before { border-right: 2px solid #fda4af; border-radius: 0 5px 0 0; }
        .tree li:first-child::after { border-radius: 5px 0 0 0; }
        .tree ul ul::before { content: ''; position: absolute; top: 0; left: 50%; border-left: 2px solid #fda4af; width: 0; height: 20px; }

        .node {
            background: white; border: 1px solid #fb7185; padding: 12px 18px; border-radius: 8px;
            display: inline-block; min-width: 140px; font-family: 'Inter', sans-serif; font-weight: 600; color: var(--primary-dark);
            box-shadow: 0 4px 6px rgba(0,0,0,0.05); position: relative; z-index: 2;
        }
        .root-node { background: var(--primary); color: white; transform: scale(1.1); box-shadow: 0 10px 20px rgba(0,0,0,0.1); border: none; }

        /* --- QUIZ --- */
        .quiz-area { max-width: 900px; margin: 0 auto; padding: 40px 20px; }
        .q-card { background: white; padding: 30px; margin-bottom: 20px; border-radius: 12px; box-shadow: 0 2px 10px rgba(0,0,0,0.03); border: 1px solid #fda4af; }
        .q-opt {
            display: flex; align-items: center; gap: 15px; padding: 15px; border: 1px solid #e2e8f0;
            margin-top: 10px; border-radius: 8px; cursor: pointer; transition: 0.2s;
        }
        .q-opt:hover { background: #fff1f2; border-color: #fb7185; }
        .q-let { font-weight: 900; color: #94a3b8; background: #f1f5f9; width: 30px; height: 30px; border-radius: 50%; display: flex; align-items: center; justify-content: center; }
        
        .q-opt.correct { background: #dcfce7; border-color: #16a34a; }
        .q-opt.correct .q-let { background: #16a34a; color: white; }
        .q-opt.wrong { background: #fee2e2; border-color: #ef4444; }
        .q-opt.wrong .q-let { background: #ef4444; color: white; }

        /* --- MOBILE --- */
        @media (max-width: 768px) {
            .menu-toggle { display: flex; }
            aside { position: fixed; top: 0; left: -100%; height: 100%; width: 85%; box-shadow: 10px 0 30px rgba(0,0,0,0.5); }
            aside.active { left: 0; }
            .paper { padding: 30px 20px; }
            h1 { font-size: 2.2rem; }
            .mm-wrapper { justify-content: flex-start; padding: 40px; }
        }
    </style>
</head>
<body>

    <!-- MENU BUTTON -->
    <button class="menu-toggle" onclick="toggleMenu()">
        <i class="fa-solid fa-bars"></i>
    </button>
    <div class="overlay" id="overlay" onclick="toggleMenu()"></div>

    <!-- SIDEBAR -->
    <aside id="sidebar">
        <div class="brand"><i class="fa-solid fa-heart-pulse"></i> IG-BIO ANIMALS</div>
        
        <div class="nav-item active" onclick="switchTab('notes', this)">
            <i class="fa-solid fa-book-open"></i> Full Notes
        </div>
        <div class="nav-item" onclick="switchTab('mindmap', this)">
            <i class="fa-solid fa-sitemap"></i> Mind Map
        </div>
        <div class="nav-item" onclick="switchTab('quiz', this)">
            <i class="fa-solid fa-list-check"></i> 50 Qs Quiz
        </div>
        
        <div style="margin-top:auto; padding-top:20px; border-top:1px solid #881337;">
             <div class="nav-item" onclick="genPDF()" style="color:#fb7185; border-color:#881337;">
                 <i class="fa-solid fa-file-pdf"></i> Save as PDF
             </div>
        </div>
    </aside>

    <main>
        
        <!-- 1. DETAILED NOTES -->
        <div id="notes" class="view-panel active">
            <div class="paper" id="pdf-source">
                <span class="meta">IGCSE Biology 0610 â€¢ Chapter 9</span>
                <h1>Transport in Animals</h1>
                <p>Large multicellular animals need a transport system to move oxygen, nutrients, and waste products around the body quickly. This is achieved through the <strong>Circulatory System</strong>.</p>

                <h2>1. Circulatory Systems</h2>
                <div class="concept-box">
                    <strong>Double Circulation:</strong> Humans have a double circulatory system. For every one complete circuit of the body, blood passes through the heart <strong>twice</strong>.
                </div>
                <ul>
                    <li><strong>Pulmonary Circulation:</strong> Heart &rarr; Lungs &rarr; Heart (Low pressure, oxygenates blood).</li>
                    <li><strong>Systemic Circulation:</strong> Heart &rarr; Body &rarr; Heart (High pressure, delivers oxygen).</li>
                </ul>
                <p><em>Advantage:</em> Maintaining high blood pressure to deliver oxygenated blood rapidly to body tissues.</p>

                <h2>2. The Heart Structure</h2>
                <p>The heart acts as a pump. It is divided into a left side and a right side by a wall called the <strong>Septum</strong> (prevents mixing of oxygenated and deoxygenated blood).</p>

                <div class="t-wrap">
                    <table>
                        <tr><th>Side</th><th>Blood Type</th><th>Chambers</th><th>Valves</th></tr>
                        <tr><td><strong>Right Side</strong></td><td>Deoxygenated</td><td>Right Atrium, Right Ventricle</td><td>Tricuspid Valve</td></tr>
                        <tr><td><strong>Left Side</strong></td><td>Oxygenated</td><td>Left Atrium, Left Ventricle</td><td>Bicuspid (Mitral) Valve</td></tr>
                    </table>
                </div>

                <h3>Blood Flow Path</h3>
                <ol>
                    <li><strong>Vena Cava:</strong> Brings deoxygenated blood from body to Right Atrium.</li>
                    <li><strong>Right Atrium:</strong> Contracts, pushing blood through valve into Right Ventricle.</li>
                    <li><strong>Right Ventricle:</strong> Contracts, pushing blood into Pulmonary Artery to lungs.</li>
                    <li><strong>Pulmonary Vein:</strong> Brings oxygenated blood from lungs to Left Atrium.</li>
                    <li><strong>Left Atrium:</strong> Contracts, pushing blood into Left Ventricle.</li>
                    <li><strong>Left Ventricle:</strong> Contracts strongly, pushing blood into Aorta to the body.</li>
                </ol>

                <div class="exam-tip">
                    <i class="fa-solid fa-triangle-exclamation"></i>
                    <div>
                        <strong>Exam Warning: Wall Thickness</strong><br>
                        The <strong>Left Ventricle</strong> has the thickest muscular wall because it must pump blood at high pressure around the entire body. The atria have thin walls (only pump to ventricles).
                    </div>
                </div>

                <h2>3. Blood Vessels</h2>
                <p>There are three main types of blood vessels adapted for their function.</p>

                <div class="t-wrap">
                    <table>
                        <tr><th>Feature</th><th>Artery</th><th>Vein</th><th>Capillary</th></tr>
                        <tr><td><strong>Function</strong></td><td>Carry blood <strong>Away</strong> from heart.</td><td>Carry blood <strong>Into</strong> heart.</td><td>Exchange of materials with tissues.</td></tr>
                        <tr><td><strong>Pressure</strong></td><td>High.</td><td>Low.</td><td>Low.</td></tr>
                        <tr><td><strong>Wall</strong></td><td>Thick, muscular, elastic.</td><td>Thin, less muscle.</td><td>One cell thick (for diffusion).</td></tr>
                        <tr><td><strong>Lumen</strong></td><td>Narrow.</td><td>Wide.</td><td>Very narrow.</td></tr>
                        <tr><td><strong>Valves</strong></td><td>No (except pulmonary).</td><td><strong>Yes</strong> (prevent backflow).</td><td>No.</td></tr>
                    </table>
                </div>

                <h2>4. Blood Composition</h2>
                <p>Blood is a tissue consisting of plasma and cells.</p>
                <ul>
                    <li><strong>Red Blood Cells (Erythrocytes):</strong> Transport Oxygen.
                        <ul>
                            <li><em>Adaptations:</em> Biconcave shape (high surface area), contain Haemoglobin (binds O2), No nucleus (more space for haemoglobin).</li>
                        </ul>
                    </li>
                    <li><strong>White Blood Cells:</strong> Immune defence.
                        <ul>
                            <li><em>Phagocytes:</em> Engulf and digest pathogens (Phagocytosis). Have lobed nuclei.</li>
                            <li><em>Lymphocytes:</em> Produce <strong>Antibodies</strong> to destroy pathogens. Large round nuclei.</li>
                        </ul>
                    </li>
                    <li><strong>Platelets:</strong> Fragments of cells involved in <strong>Blood Clotting</strong>. They convert fibrinogen (soluble) into fibrin (insoluble mesh) to trap cells and stop bleeding.</li>
                    <li><strong>Plasma:</strong> The liquid part. Transports CO2, urea, glucose, amino acids, hormones, and heat.</li>
                </ul>

                <h2>5. Coronary Heart Disease (CHD)</h2>
                <p>CHD occurs when the <strong>Coronary Arteries</strong> (which supply the heart muscle with oxygen) become blocked by fatty deposits (plaque/atheroma).</p>
                <ul>
                    <li><strong>Consequence:</strong> Heart muscle is starved of oxygen &rarr; cannot respire &rarr; muscle dies &rarr; Heart Attack.</li>
                    <li><strong>Risk Factors:</strong>
                        <ul>
                            <li>Diet high in saturated fats/salt.</li>
                            <li>Smoking (Nicotine increases blood pressure).</li>
                            <li>Lack of exercise.</li>
                            <li>Stress.</li>
                            <li>Genetic predisposition.</li>
                        </ul>
                    </li>
                    <li><strong>Prevention/Treatment:</strong> Bypass surgery, Stents (mesh tube to hold artery open), Aspirin.</li>
                </ul>

                <div style="height:100px;"></div>
            </div>
        </div>

        <!-- 2. MIND MAP -->
        <div id="mindmap" class="view-panel">
            <div class="mm-wrapper">
                <div class="tree">
                    <ul>
                        <li>
                            <div class="node root-node">ANIMAL TRANSPORT</div>
                            <ul>
                                <li>
                                    <div class="node">The Heart</div>
                                    <ul>
                                        <li><div class="node">4 Chambers</div></li>
                                        <li><div class="node">Septum/Valves</div></li>
                                        <li><div class="node">Left Ventricle (Thick)</div></li>
                                    </ul>
                                </li>
                                <li>
                                    <div class="node">Vessels</div>
                                    <ul>
                                        <li><div class="node">Artery (Away/High P)</div></li>
                                        <li><div class="node">Vein (In/Valves)</div></li>
                                        <li><div class="node">Capillary (Exchange)</div></li>
                                    </ul>
                                </li>
                                <li>
                                    <div class="node">Blood</div>
                                    <ul>
                                        <li><div class="node">RBC (Oxygen)</div></li>
                                        <li><div class="node">WBC (Immunity)</div></li>
                                        <li><div class="node">Platelets (Clotting)</div></li>
                                    </ul>
                                </li>
                                <li>
                                    <div class="node">Circulation</div>
                                    <ul>
                                        <li><div class="node">Double System</div></li>
                                        <li><div class="node">Pulmonary (Lungs)</div></li>
                                        <li><div class="node">Systemic (Body)</div></li>
                                    </ul>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- 3. QUIZ -->
        <div id="quiz" class="view-panel">
            <div class="quiz-area" id="q-container">
                <!-- Questions injected via JS -->
            </div>
        </div>

    </main>

    <script>
        // --- UI LOGIC ---
        function toggleMenu() {
            const sb = document.getElementById('sidebar');
            const ov = document.getElementById('overlay');
            if(sb.style.left === '0px') {
                sb.style.left = '-100%';
                ov.classList.remove('active');
            } else {
                sb.style.left = '0px';
                ov.classList.add('active');
            }
        }

        function switchTab(id, btn) {
            document.querySelectorAll('.view-panel').forEach(p => p.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            document.querySelectorAll('.nav-item').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            
            if(window.innerWidth <= 768) {
                document.getElementById('sidebar').style.left = '-100%';
                document.getElementById('overlay').classList.remove('active');
            }
        }

        function genPDF() {
            const { jsPDF } = window.jspdf;
            const element = document.getElementById('pdf-source');
            const origWidth = element.style.width;
            element.style.width = '900px'; 
            
            html2canvas(element, { scale: 2 }).then(canvas => {
                element.style.width = origWidth;
                const img = canvas.toDataURL('image/png');
                const pdf = new jsPDF('p', 'mm', 'a4');
                const w = 210; const h = 297;
                const imgH = canvas.height * w / canvas.width;
                let hLeft = imgH; let pos = 0;

                pdf.addImage(img, 'PNG', 0, pos, w, imgH);
                hLeft -= h;
                while (hLeft >= 0) {
                    pos = hLeft - imgH;
                    pdf.addPage();
                    pdf.addImage(img, 'PNG', 0, pos, w, imgH);
                    hLeft -= h;
                }
                pdf.save('IG_Bio_Ch9_AnimalTransport.pdf');
            });
        }

        // --- 50 QUESTIONS (Transport in Animals) ---
        const qData = [
            {q:"Humans have a _____ circulatory system.", o:["Single","Double","Triple","Open"], a:1},
            {q:"Which side of the heart pumps deoxygenated blood?", o:["Left","Right","Top","Bottom"], a:1},
            {q:"Which blood vessel carries blood away from the heart?", o:["Vein","Capillary","Artery","Venule"], a:2},
            {q:"Which vessel carries blood into the heart?", o:["Artery","Vein","Aorta","Capillary"], a:1},
            {q:"Which heart chamber has the thickest wall?", o:["Right Atrium","Left Atrium","Right Ventricle","Left Ventricle"], a:3},
            {q:"The wall separating the two sides of the heart is the?", o:["Septum","Valve","Aorta","Ventricle"], a:0},
            {q:"Which valve is between the Right Atrium and Right Ventricle?", o:["Bicuspid","Tricuspid","Semilunar","Mitral"], a:1},
            {q:"Which valve is between the Left Atrium and Left Ventricle?", o:["Tricuspid","Bicuspid","Semilunar","Aortic"], a:1},
            {q:"What is the main function of valves?", o:["Pump blood","Oxygenate blood","Prevent backflow","Create pressure"], a:2},
            {q:"Which vessel brings deoxygenated blood from the body?", o:["Aorta","Pulmonary Vein","Vena Cava","Pulmonary Artery"], a:2},
            {q:"Which vessel takes oxygenated blood to the body?", o:["Vena Cava","Pulmonary Artery","Aorta","Pulmonary Vein"], a:2},
            {q:"Which is the ONLY artery to carry deoxygenated blood?", o:["Aorta","Pulmonary Artery","Coronary Artery","Renal Artery"], a:1},
            {q:"Which is the ONLY vein to carry oxygenated blood?", o:["Vena Cava","Pulmonary Vein","Hepatic Vein","Renal Vein"], a:1},
            {q:"Arteries have ____ walls.", o:["Thin","Thick and elastic","Permeable","Valved"], a:1},
            {q:"Veins have ____ lumen.", o:["Narrow","Wide","Blocked","No"], a:1},
            {q:"Capillaries are how thick?", o:["One cell thick","Two cells thick","Thick muscle","Elastic"], a:0},
            {q:"Where does material exchange happen?", o:["Arteries","Veins","Capillaries","Heart"], a:2},
            {q:"Red blood cells transport?", o:["Antibodies","Oxygen","Urea","Hormones"], a:1},
            {q:"What pigment binds to oxygen in RBCs?", o:["Chlorophyll","Melanin","Haemoglobin","Insulin"], a:2},
            {q:"Red blood cells lack a?", o:["Cell membrane","Nucleus","Cytoplasm","Shape"], a:1},
            {q:"The shape of a red blood cell is?", o:["Sphere","Cube","Biconcave disc","Spiral"], a:2},
            {q:"White blood cells are part of the?", o:["Nervous system","Immune system","Digestive system","Skeletal system"], a:1},
            {q:"Phagocytes perform?", o:["Clotting","Antibody production","Phagocytosis (engulfing)","Transport"], a:2},
            {q:"Lymphocytes produce?", o:["Antigens","Antibodies","Enzymes","Hormones"], a:1},
            {q:"Platelets are responsible for?", o:["Carrying oxygen","Fighting infection","Blood clotting","Digestion"], a:2},
            {q:"The liquid part of blood is?", o:["Plasma","Cytoplasm","Lymph","Water"], a:0},
            {q:"Plasma transports which gas?", o:["Oxygen","Carbon Dioxide","Helium","Hydrogen"], a:1},
            {q:"Plasma transports which waste product?", o:["Glucose","Urea","Starch","Glycogen"], a:1},
            {q:"CHD stands for?", o:["Coronary Heart Disease","Chronic Heart Disease","Congenital Heart Defect","Common Heart Disease"], a:0},
            {q:"CHD affects which arteries?", o:["Pulmonary","Aorta","Coronary","Renal"], a:2},
            {q:"What blocks the arteries in CHD?", o:["Blood clots","Fatty plaque","Valves","Air bubbles"], a:1},
            {q:"A risk factor for CHD is?", o:["Exercise","Smoking","Vegetables","Sleeping"], a:1},
            {q:"Why does smoking increase CHD risk?", o:["Lowers pressure","Increases pressure and damages lining","Relaxes heart","Cleans blood"], a:1},
            {q:"What is a stent?", o:["A drug","A mesh tube to open arteries","A new heart","A pacemaker"], a:1},
            {q:"Aspirin helps prevent CHD by?", o:["Lowering blood pressure","Thinning the blood","Killing bacteria","Digesting fat"], a:1},
            {q:"The pulse is caused by?", o:["Veins expanding","Arteries expanding","Capillaries bursting","Heart stopping"], a:1},
            {q:"Where can you feel a pulse?", o:["Veins","Arteries (e.g. wrist)","Capillaries","Stomach"], a:1},
            {q:"Blood pressure is highest in the?", o:["Vena Cava","Capillaries","Left Ventricle/Aorta","Right Atrium"], a:2},
            {q:"Blood clotting involves converting Fibrinogen to?", o:["Fibrin","Collagen","Haemoglobin","Plasma"], a:0},
            {q:"Fibrin forms a?", o:["Liquid","Mesh","Gas","Bubble"], a:1},
            {q:"The 'lub-dub' sound of the heart is caused by?", o:["Muscles contracting","Valves closing","Blood rushing","Bones cracking"], a:1},
            {q:"Which side of the heart pumps blood to the lungs?", o:["Left","Right","Both","Neither"], a:1},
            {q:"Pulmonary circulation goes to the?", o:["Body","Brain","Lungs","Kidneys"], a:2},
            {q:"Systemic circulation goes to the?", o:["Lungs","Whole Body","Heart only","Liver only"], a:1},
            {q:"Which vessel has valves?", o:["Artery","Vein","Capillary","Aorta"], a:1},
            {q:"Why do veins need valves?", o:["High pressure","Low pressure/prevent backflow","To pump blood","To filter blood"], a:1},
            {q:"What supplies the heart muscle with oxygen?", o:["Vena Cava","Coronary Arteries","Pulmonary Vein","Aorta"], a:1},
            {q:"Phagocytes have a ____ nucleus.", o:["Round","Lobed","Missing","Square"], a:1},
            {q:"Lymphocytes have a ____ nucleus.", o:["Large round","Lobed","Missing","Small"], a:0},
            {q:"Diet high in ____ increases CHD risk.", o:["Protein","Fibre","Saturated fat","Water"], a:2}
        ];

        const qDiv = document.getElementById('q-container');
        const lets = ['A','B','C','D'];

        qData.forEach((q, idx) => {
            let opts = q.o.map((txt, i) => ({txt, i}));
            // Shuffle options
            opts.sort(() => Math.random() - 0.5);

            const card = document.createElement('div');
            card.className = 'q-card';
            card.innerHTML = `
                <h3 style="margin:0 0 15px 0; font-size:1.1rem; color:#334155;">${idx+1}. ${q.q}</h3>
                ${opts.map((o, k) => `
                    <div class="q-opt" onclick="check(${idx}, ${o.i}, this)">
                        <div class="q-let">${lets[k]}</div>
                        <div>${o.txt}</div>
                    </div>
                `).join('')}
            `;
            qDiv.appendChild(card);
        });

        function check(qIdx, oIdx, el) {
            const parent = el.parentElement;
            if(parent.classList.contains('locked')) return;
            parent.classList.add('locked');

            if(oIdx === qData[qIdx].a) {
                el.classList.add('correct');
            } else {
                el.classList.add('wrong');
                const text = qData[qIdx].o[qData[qIdx].a];
                for(let child of parent.children) {
                    if(child.innerText.includes(text)) child.classList.add('correct');
                }
            }
        }
    </script>
</body>
</html>
