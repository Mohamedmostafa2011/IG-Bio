<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>CIE 0610 Bio Master Quiz</title>
<style>
    :root {
        --primary: #265bf6; --primary-dark: #1a4bd6;
        --success: #42b163; --success-bg: #e5faed;
        --danger: #9f0b0b; --danger-bg: #fdeaea;
        --bg: #f4f6f8; --card: #ffffff; --text: #212529;
    }
    * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
    body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
        background-color: var(--bg); color: var(--text);
        margin: 0; padding: 0; display: flex; flex-direction: column; height: 100vh;
    }
    /* Fixed Header */
    header {
        background: var(--card); padding: 15px 20px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.05); z-index: 10;
        display: flex; justify-content: space-between; align-items: center;
        position: sticky; top: 0;
    }
    .status { font-size: 0.9rem; font-weight: 600; color: #666; }
    .score-badge { background: var(--primary); color: white; padding: 4px 10px; border-radius: 12px; font-size: 0.85rem; }
    
    /* Scrollable Content */
    main { flex: 1; overflow-y: auto; padding: 20px; padding-bottom: 80px; max-width: 800px; margin: 0 auto; width: 100%; }
    
    .card {
        background: var(--card); border-radius: 16px; padding: 20px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.03); margin-bottom: 20px;
    }
    .topic-tag {
        display: inline-block; background: #eef2fe; color: var(--primary);
        font-size: 0.75rem; font-weight: 700; padding: 4px 8px; border-radius: 6px; margin-bottom: 10px; text-transform: uppercase;
    }
    .question-text { font-size: 1.15rem; font-weight: 600; line-height: 1.5; margin-bottom: 5px; }
    
    /* Choices */
    .options { display: flex; flex-direction: column; gap: 12px; }
    .opt-btn {
        background: var(--card); border: 2px solid #e2e2e2; border-radius: 12px;
        padding: 16px; text-align: left; font-size: 1rem; cursor: pointer;
        transition: all 0.2s; position: relative; color: var(--text);
    }
    .opt-btn:active { transform: scale(0.98); }
    .opt-btn.correct { border-color: var(--success); background: var(--success-bg); color: #004d20; font-weight: 600; }
    .opt-btn.wrong { border-color: var(--danger); background: var(--danger-bg); color: var(--danger); opacity: 0.8; }
    .opt-btn.disabled { pointer-events: none; }

    /* Explanation */
    .explanation {
        display: none; background: #f0f7ff; border-left: 4px solid var(--primary);
        padding: 15px; border-radius: 8px; margin-top: 20px; animation: slideDown 0.3s ease;
    }
    .exp-title { font-weight: bold; color: var(--primary); font-size: 0.9rem; margin-bottom: 5px; display: block;}
    @keyframes slideDown { from {opacity:0; transform:translateY(-10px);} to {opacity:1; transform:translateY(0);} }

    /* Fixed Footer */
    footer {
        position: fixed; bottom: 0; left: 0; right: 0;
        background: var(--card); padding: 15px;
        border-top: 1px solid #eee; display: flex; gap: 10px;
        box-shadow: 0 -2px 10px rgba(0,0,0,0.05); z-index: 10;
        justify-content: center;
    }
    .f-container { max-width: 800px; width: 100%; display: flex; gap: 10px; }
    button.action-btn {
        flex: 1; padding: 14px; border: none; border-radius: 12px;
        font-size: 1rem; font-weight: 700; cursor: pointer;
    }
    .btn-outline { background: transparent; border: 2px solid var(--primary); color: var(--primary); }
    .btn-solid { background: var(--primary); color: white; }
    .hidden { display: none; }

    /* Results */
    .result-screen { text-align: center; padding-top: 50px; display: none; }
    .circular-chart { display: block; margin: 20px auto; max-width: 150px; max-height: 250px; }
    .circle-bg { fill: none; stroke: #eee; stroke-width: 3.8; }
    .circle { fill: none; stroke-width: 2.8; stroke-linecap: round; animation: progress 1s ease-out forwards; }
    .percentage { fill: #666; font-family: sans-serif; font-weight: bold; font-size: 0.5em; text-anchor: middle; }
</style>
</head>
<body>

<header>
    <div class="status">Q: <span id="q-idx">1</span>/<span id="q-total">100</span></div>
    <div class="score-badge">Score: <span id="score">0</span></div>
</header>

<h2>Quarter 2</h2>
    
<main id="quiz-main">
    <div class="card">
        <span class="topic-tag" id="topic">Topic</span>
        <div class="question-text" id="question">Loading...</div>
    </div>
    <div class="options" id="options"></div>
    <div class="explanation" id="explanation">
        <span class="exp-title">EXPLANATION</span>
        <span id="exp-text"></span>
    </div>
</main>

<div id="result-screen" class="main result-screen">
    <h2>Quiz Completed!</h2>
    <svg viewBox="0 0 36 36" class="circular-chart">
        <path class="circle-bg" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" />
        <path class="circle" id="progress-ring" stroke-dasharray="0, 100" stroke="#42b163" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" />
        <text x="18" y="20.35" class="percentage" id="final-percent">0%</text>
    </svg>
    <p id="final-msg">Well done!</p>
    <button class="action-btn btn-solid" onclick="location.reload()" style="max-width:200px; margin-top:20px;">Restart Quiz</button>
</div>

<footer>
    <div class="f-container">
        <button class="action-btn btn-outline" id="view-ans" onclick="showAnswer()">View Answer</button>
        <button class="action-btn btn-solid hidden" id="next-btn" onclick="nextQ()">Next</button>
    </div>
</footer>

<script>
// COMPRESSED DATA TO FIT 100 QUESTIONS
// T: Topic, Q: Question, O: Options, A: Answer Index, E: Explanation
const db = [
  {T:"Characteristics", Q:"Which process removes toxic waste products of metabolism?", O:["Nutrition","Excretion","Egestion","Respiration"], A:1, E:"Excretion is the removal of metabolic waste (urea, CO2). Egestion is removal of undigested food."},
  {T:"Characteristics", Q:"What is the correct definition of sensitivity?", O:["Ability to detect changes in the environment","Moving parts of the body","Increase in size","Release of energy"], A:0, E:"Sensitivity is the ability to detect and respond to stimuli (changes in the environment)."},
  {T:"Characteristics", Q:"Which characteristic is defined as the permanent increase in size and dry mass?", O:["Reproduction","Growth","Excretion","Nutrition"], A:1, E:"Growth involves a permanent increase in size and dry mass by an increase in cell number or cell size."},
  {T:"Classification", Q:"Which feature is found in both bacteria and plant cells?", O:["Chloroplast","Nucleus","Cell wall","Mitochondria"], A:2, E:"Both bacteria and plants have cell walls. Bacteria lack a nucleus and mitochondria."},
  {T:"Classification", Q:"Which group of vertebrates has moist skin, lays eggs in water, and has lungs as adults?", O:["Fish","Reptiles","Amphibians","Mammals"], A:2, E:"Amphibians (like frogs) have moist skin for gas exchange and reproduce in water."},
  {T:"Organization", Q:"Which order of size is correct (smallest to largest)?", O:["Gene → Chromosome → Nucleus → Cell","Cell → Nucleus → Chromosome → Gene","Nucleus → Gene → Cell → Chromosome","Chromosome → Gene → Nucleus → Cell"], A:0, E:"Genes are on chromosomes, chromosomes are in the nucleus, the nucleus is in the cell."},
  {T:"Organization", Q:"What is the function of the ciliated cell?", O:["Transport oxygen","Move mucus","Absorb nutrients","Contract"], A:1, E:"Ciliated cells in the respiratory tract beat to move mucus containing trapped dust/bacteria away from lungs."},
  {T:"Organization", Q:"Root hair cells are adapted for absorption by having:", O:["Large surface area","Chloroplasts","Thick cell walls","Cilia"], A:0, E:"The long extension increases surface area for osmosis and active transport. They have no chloroplasts."},
  {T:"Organization", Q:"Which structure controls the movement of substances into and out of the cell?", O:["Cell wall","Cytoplasm","Cell membrane","Vacuole"], A:2, E:"The cell membrane is partially permeable and controls entry/exit. The wall is fully permeable."},
  {T:"Organization", Q:"Where are proteins synthesized in the cell?", O:["Nucleus","Ribosomes","Mitochondria","Vacuole"], A:1, E:"Ribosomes are the site of protein synthesis. Mitochondria do respiration."},
  {T:"Movement", Q:"Diffusion is the movement of particles from:", O:["Low to high concentration","High to low concentration","Low water potential to high","Through a membrane only"], A:1, E:"Diffusion is the net movement from high concentration to low concentration down a gradient."},
  {T:"Movement", Q:"Which process requires energy from respiration?", O:["Diffusion","Osmosis","Active Transport","Transpiration"], A:2, E:"Active transport moves substances against the concentration gradient, requiring energy (ATP)."},
  {T:"Movement", Q:"A plant cell becomes flaccid when placed in a solution that is:", O:["More concentrated (lower water potential)","Less concentrated (higher water potential)","Isotonic","Pure water"], A:0, E:"Water leaves the cell by osmosis into the concentrated solution, making the cell flaccid."},
  {T:"Movement", Q:"What happens to a red blood cell in pure water?", O:["It shrinks","It bursts","It stays the same","It becomes turgid"], A:1, E:"Animal cells have no cell wall. Water enters by osmosis causing it to swell and burst (lysis)."},
  {T:"Movement", Q:"Osmosis acts on which molecule?", O:["Salt","Sugar","Water","Protein"], A:2, E:"Osmosis is specifically the diffusion of water molecules through a partially permeable membrane."},
  {T:"Bio Molecules", Q:"The test for starch uses which solution?", O:["Benedict's","Biuret","Iodine","Ethanol"], A:2, E:"Iodine solution turns from brown to blue-black in the presence of starch."},
  {T:"Bio Molecules", Q:"Proteins are polymers made of:", O:["Fatty acids","Amino acids","Glucose","Glycerol"], A:1, E:"Proteins are long chains of amino acids. Starch/Glycogen are chains of glucose."},
  {T:"Bio Molecules", Q:"A positive test with Benedict's solution turns:", O:["Blue to Purple","Clear to White","Brown to Blue-black","Blue to Brick Red"], A:3, E:"Benedict's tests for reducing sugars. Heat is required. Color changes Green -> Yellow -> Red."},
  {T:"Bio Molecules", Q:"Fats (lipids) are composed of:", O:["Amino acids","Glucose","Glycerol and fatty acids","Nucleotides"], A:2, E:"A triglyceride lipid molecule consists of 1 glycerol joined to 3 fatty acids."},
  {T:"Bio Molecules", Q:"DNA contains which four bases?", O:["A, C, G, T","A, C, G, U","A, B, C, D","P, Q, R, S"], A:0, E:"DNA bases are Adenine (A), Cytosine (C), Guanine (G), and Thymine (T). A pairs with T, C pairs with G."},
  {T:"Enzymes", Q:"Enzymes are made of:", O:["Fats","Carbohydrates","Proteins","DNA"], A:2, E:"All enzymes are biological catalysts made of proteins."},
  {T:"Enzymes", Q:"The molecule an enzyme acts upon is called the:", O:["Active site","Substrate","Product","Catalyst"], A:1, E:"The enzyme binds to the substrate at the active site to form a complex."},
  {T:"Enzymes", Q:"What happens to an enzyme at very high temperatures?", O:["It works faster","It is denatured","It is killed","It crystallizes"], A:1, E:"The active site loses its specific shape (denaturing), so the substrate no longer fits."},
  {T:"Enzymes", Q:"Which graph shape represents enzyme activity vs temperature?", O:["Straight line up","Straight line down","Bell curve (mountains)","Flat line"], A:2, E:"Activity increases with kinetic energy until optimum, then drops rapidly due to denaturation."},
  {T:"Enzymes", Q:"What is the optimum pH for pepsin (stomach enzyme)?", O:["pH 2","pH 7","pH 9","pH 12"], A:0, E:"The stomach is acidic (HCl), so pepsin works best at acidic pH (approx pH 2)."},
  {T:"Plant Nutrition", Q:"The word equation for photosynthesis is:", O:["Carbon dioxide + Water -> Glucose + Oxygen","Oxygen + Glucose -> Water + Carbon dioxide","Glucose + Water -> Oxygen + Carbon dioxide","Starch + Water -> Glucose"], A:0, E:"Photosynthesis uses light energy to convert CO2 and Water into Glucose and Oxygen."},
  {T:"Plant Nutrition", Q:"Chlorophyll is essential because it:", O:["Absorbs light energy","Stores starch","Transports water","Protects the leaf"], A:0, E:"Chlorophyll transfers light energy into chemical energy for the synthesis of carbohydrates."},
  {T:"Plant Nutrition", Q:"Which mineral ion is needed to make amino acids?", O:["Magnesium","Nitrate","Calcium","Iron"], A:1, E:"Plants convert glucose to amino acids using Nitrate ions absorbed from the soil."},
  {T:"Plant Nutrition", Q:"Magnesium deficiency causes:", O:["Stunted growth","Yellowing between veins","Purple leaves","Rotting roots"], A:1, E:"Magnesium is the center of the chlorophyll molecule. No Mg = No Chlorophyll = Yellow leaves (Chlorosis)."},
  {T:"Plant Nutrition", Q:"The spongy mesophyll layer allows for:", O:["Maximum light absorption","Gas exchange","Waterproofing","Protection"], A:1, E:"Spongy mesophyll has air spaces to allow CO2 to diffuse to the palisade cells."},
  {T:"Plant Nutrition", Q:"Phloem transports:", O:["Water","Starch","Sucrose and amino acids","Mineral ions"], A:2, E:"This is translocation. Glucose is converted to sucrose for transport in the phloem."},
  {T:"Human Nutrition", Q:"Scurvy is caused by a lack of:", O:["Vitamin D","Vitamin C","Iron","Calcium"], A:1, E:"Vitamin C is needed for connective tissue (gums/skin). Deficiency causes scurvy."},
  {T:"Human Nutrition", Q:"Which nutrient provides the most energy per gram?", O:["Carbohydrate","Protein","Fat","Fiber"], A:2, E:"Fats contain about twice as much energy per gram compared to carbs or protein."},
  {T:"Human Nutrition", Q:"Mechanical digestion occurs mainly in the:", O:["Mouth and Stomach","Small intestine","Large intestine","Pancreas"], A:0, E:"Chewing (mouth) and churning (stomach) physically break down food. Chemical digestion uses enzymes."},
  {T:"Human Nutrition", Q:"Where is bile produced?", O:["Gall bladder","Pancreas","Liver","Stomach"], A:2, E:"Bile is produced in the Liver and stored in the Gall Bladder."},
  {T:"Human Nutrition", Q:"Villi in the small intestine adapt it for:", O:["Moving food","Digesting cellulose","Absorption","Secreting acid"], A:2, E:"Villi increase surface area significantly for the absorption of nutrients into the blood."},
  {T:"Human Nutrition", Q:"Amylase breaks down:", O:["Proteins to amino acids","Starch to maltose","Fats to fatty acids","Glycogen to glucose"], A:1, E:"Amylase (in saliva/pancreas) digests starch into maltose (a simpler sugar)."},
  {T:"Human Nutrition", Q:"The enzyme trypsin is a:", O:["Carbohydrase","Lipase","Protease","Vitamin"], A:2, E:"Trypsin breaks down proteins in the small intestine (alkaline conditions)."},
  {T:"Transport Plants", Q:"Water enters root hair cells by:", O:["Active transport","Osmosis","Diffusion","Transpiration"], A:1, E:"Soil water has a higher water potential than cell sap, so water enters by osmosis."},
  {T:"Transport Plants", Q:"Transpiration is the loss of water vapor from:", O:["Roots","Stems","Leaves (stomata)","Flowers"], A:2, E:"Water evaporates from mesophyll cells and diffuses out through open stomata."},
  {T:"Transport Plants", Q:"Which condition decreases transpiration?", O:["High humidity","High temperature","High wind speed","High light intensity"], A:0, E:"High humidity reduces the concentration gradient between the leaf and air, slowing diffusion."},
  {T:"Transport Plants", Q:"Xylem vessels are:", O:["Living cells with sieve plates","Dead, hollow tubes with lignin","Cells with nuclei","Tubes transporting sugar"], A:1, E:"Xylem are dead cells reinforced with lignin to support the plant and transport water."},
  {T:"Transport Animals", Q:"Which side of the heart pumps blood to the lungs?", O:["Left","Right","Both","Neither"], A:1, E:"The Right side pumps deoxygenated blood to the lungs (Pulmonary circuit). Left pumps to body."},
  {T:"Transport Animals", Q:"The structure preventing backflow between atrium and ventricle is:", O:["Semilunar valve","Atrioventricular valve","Septum","Aorta"], A:1, E:"AV valves (Tricuspid/Bicuspid) prevent blood flowing back into atria when ventricles contract."},
  {T:"Transport Animals", Q:"Which blood vessel has the thickest muscular wall?", O:["Artery","Vein","Capillary","Venule"], A:0, E:"Arteries withstand high pressure from the heart, requiring thick, elastic muscular walls."},
  {T:"Transport Animals", Q:"Substances are exchanged between blood and tissues in:", O:["Arteries","Veins","Capillaries","Heart"], A:2, E:"Capillaries have walls one cell thick, allowing rapid diffusion of O2 and nutrients."},
  {T:"Transport Animals", Q:"The main function of red blood cells is:", O:["Clotting","Antibody production","Oxygen transport","Phagocytosis"], A:2, E:"RBCs contain hemoglobin to bind and transport oxygen. They have no nucleus to fit more Hb."},
  {T:"Transport Animals", Q:"Phagocytosis is carried out by:", O:["Red blood cells","Platelets","White blood cells","Plasma"], A:2, E:"Phagocytes (a type of WBC) engulf and digest pathogens."},
  {T:"Transport Animals", Q:"Which component causes blood clotting?", O:["Plasma","Platelets","Red blood cells","Lymphocytes"], A:1, E:"Platelets trigger the conversion of fibrinogen to fibrin to form a mesh (clot)."},
  {T:"Gas Exchange", Q:"The scientific name for the windpipe is:", O:["Esophagus","Bronchus","Trachea","Larynx"], A:2, E:"The Trachea connects the mouth/nose to the bronchi. It has cartilage rings to keep it open."},
  {T:"Gas Exchange", Q:"In alveoli, oxygen diffuses into:", O:["Air","Red blood cells","Plasma","White blood cells"], A:1, E:"Oxygen binds to hemoglobin in red blood cells. CO2 diffuses out of the plasma."},
  {T:"Gas Exchange", Q:"Exhaled air contains more ___ than inhaled air.", O:["Oxygen","Nitrogen","Carbon dioxide","Dust"], A:2, E:"Respiration produces CO2, so we exhale more (4%) than we inhale (0.04%)."},
  {T:"Gas Exchange", Q:"Limewater turns milky in the presence of:", O:["Oxygen","Hydrogen","Carbon Dioxide","Nitrogen"], A:2, E:"This is the standard test for CO2 gas."},
  {T:"Respiration", Q:"Aerobic respiration uses:", O:["Oxygen","Carbon dioxide","Lactic acid","Ethanol"], A:0, E:"Aerobic means 'with oxygen'. Glucose + Oxygen -> CO2 + Water + Energy."},
  {T:"Respiration", Q:"Where does aerobic respiration occur in the cell?", O:["Nucleus","Mitochondria","Ribosome","Chloroplast"], A:1, E:"Mitochondria are the powerhouses where aerobic respiration releases energy."},
  {T:"Respiration", Q:"Anaerobic respiration in muscles produces:", O:["Ethanol","Lactic acid","CO2 and Water","Glucose"], A:1, E:"Without oxygen, glucose is incompletely broken down into lactic acid, causing oxygen debt."},
  {T:"Respiration", Q:"Anaerobic respiration in yeast is called:", O:["Breathing","Fermentation","Photosynthesis","Transpiration"], A:1, E:"Yeast converts glucose to alcohol (ethanol) and CO2. Used in bread and brewing."},
  {T:"Reproduction Plants", Q:"Pollination is the transfer of pollen from:", O:["Anther to Stigma","Stigma to Anther","Ovary to Anther","Style to Filament"], A:0, E:"Pollen (male) is made in the Anther and lands on the Stigma (female)."},
  {T:"Reproduction Plants", Q:"Cross-pollination results in:", O:["Less variation","Genetic variation","Clones","Same DNA"], A:1, E:"Mixing genetic material from two different plants increases variation and adaptability."},
  {T:"Reproduction Plants", Q:"Which conditions are needed for germination?", O:["Water, Oxygen, Warmth","Light, Soil, Water","CO2, Light, Water","Oxygen, Light, Soil"], A:0, E:"Remember WOW: Water (activate enzymes), Oxygen (respiration), Warmth (enzyme activity). Light is usually NOT needed."},
  {T:"Reproduction Plants", Q:"The male gamete in a flower is found inside the:", O:["Ovule","Pollen grain","Sepal","Petal"], A:1, E:"The pollen grain contains the male nucleus (gamete)."},
  {T:"Reproduction Humans", Q:"Sperm are produced in the:", O:["Penis","Scrotum","Testes","Prostate"], A:2, E:"Testes produce sperm and testosterone. The scrotum holds them to regulate temperature."},
  {T:"Reproduction Humans", Q:"Ovulation usually happens on which day of the cycle?", O:["Day 1","Day 14","Day 28","Day 5"], A:1, E:"In a typical 28-day cycle, the egg is released (ovulation) around day 14."},
  {T:"Reproduction Humans", Q:"The fetus develops in the:", O:["Ovary","Oviduct","Uterus","Vagina"], A:2, E:"The embryo implants into the uterine lining and develops into a fetus there."},
  {T:"Reproduction Humans", Q:"Which hormone repairs the lining of the uterus?", O:["FSH","LH","Estrogen","Progesterone"], A:2, E:"Estrogen repairs/thickens the lining. Progesterone maintains it."},
  {T:"Reproduction Humans", Q:"What is the function of the placenta?", O:["Protect baby from bumps","Exchange nutrients/waste","Produce sperm","Digest food"], A:1, E:"The placenta allows diffusion of oxygen/nutrients to fetus and removal of waste/CO2. Bloods do not mix."},
  {T:"Reproduction Humans", Q:"The HIV virus attacks:", O:["Red blood cells","The liver","The immune system","The lungs"], A:2, E:"HIV attacks lymphocytes (white blood cells), weakening the immune system (leading to AIDS)."},
  {T:"Inheritance", Q:"An allele is:", O:["A type of cell","A version of a gene","A chromosome","A protein"], A:1, E:"Alleles are different versions of the same gene (e.g., Brown eye allele vs Blue eye allele)."},
  {T:"Inheritance", Q:"Genotype refers to:", O:["The physical appearance","The genetic makeup","The environment","The mutation"], A:1, E:"Genotype is the genetic combination (e.g., Bb). Phenotype is the physical feature (e.g., Brown eyes)."},
  {T:"Inheritance", Q:"Which pair of chromosomes determines a human male?", O:["XX","XY","YY","XO"], A:1, E:"Females are XX, Males are XY. The Y chromosome triggers male development."},
  {T:"Inheritance", Q:"Mitosis results in:", O:["Two genetically identical cells","Four different cells","Gametes","Halved chromosome number"], A:0, E:"Mitosis is for growth and repair. It produces clones (diploid). Meiosis produces gametes."},
  {T:"Ecology", Q:"Energy flows through a food chain starting from:", O:["The Sun","Consumers","Decomposers","The Soil"], A:0, E:"The Sun is the principal source of energy for biological systems (via producers)."},
  {T:"Ecology", Q:"An organism that gets energy from dead organic matter is a:", O:["Producer","Consumer","Decomposer","Predator"], A:2, E:"Decomposers (bacteria/fungi) break down waste and dead organisms, recycling nutrients."},
  {T:"Ecology", Q:"A population is:", O:["All organisms in an area","All organisms of one species in an area","Where an organism lives","A food web"], A:1, E:"A population is a group of organisms of one species, living in the same area, at the same time."},
  {T:"Human Influence", Q:"Eutrophication is caused by:", O:["Pesticides","Fertilizer leaching","Global warming","Acid rain"], A:1, E:"Nitrates wash into water, causing algae bloom. Algae die, bacteria decompose them using up oxygen, fish die."},
  {T:"Human Influence", Q:"Which gas is the main contributor to the enhanced greenhouse effect?", O:["Oxygen","Nitrogen","Carbon Dioxide","Sulfur Dioxide"], A:2, E:"CO2 (and Methane) trap heat in the atmosphere, leading to global warming."},
  {T:"Human Influence", Q:"Deforestation leads to:", O:["More oxygen","Soil erosion and flooding","More biodiversity","Less CO2"], A:1, E:"Trees anchor soil. Without them, rain washes soil away (erosion) and causes floods."},
  {T:"Organization", Q:"Groups of cells with similar structure working together form a:", O:["Organ","Organ system","Tissue","Organism"], A:2, E:"Tissue = group of similar cells. Organ = group of tissues."},
  {T:"Characteristics", Q:"Binomial nomenclature uses which two names?", O:["Family and Genus","Genus and Species","Kingdom and Phylum","Species and Variety"], A:1, E:"Example: Homo (Genus) sapiens (species)."},
  {T:"Bio Molecules", Q:"Glycogen is the storage carbohydrate in:", O:["Plants","Animals","Bacteria","Fungi"], A:1, E:"Plants store Starch. Animals and Fungi store Glycogen."},
  {T:"Enzymes", Q:"At pH values far from the optimum, enzymes:", O:["Work faster","Denature","Replicate","Become fats"], A:1, E:"Extreme pH disrupts the bonds holding the active site shape."},
  {T:"Plant Nutrition", Q:"The upper epidermis is transparent to:", O:["Let water out","Let light through","Stop insects","Absorb CO2"], A:1, E:"It allows light to pass through to the palisade layer below for photosynthesis."},
  {T:"Plant Nutrition", Q:"Guard cells control the opening of:", O:["Vessels","Stomata","Roots","Cuticle"], A:1, E:"Guard cells swell (turgid) to open stomata for gas exchange and shrink to close them."},
  {T:"Human Nutrition", Q:"Peristalsis is:", O:["Digestion of fats","Wave-like muscle contractions","Absorption of water","Chewing"], A:1, E:"Circular and longitudinal muscles contract to push food along the alimentary canal."},
  {T:"Human Nutrition", Q:"Which acid is found in the stomach?", O:["Sulfuric acid","Citric acid","Hydrochloric acid","Nitric acid"], A:2, E:"HCl kills bacteria and provides optimum pH for pepsin."},
  {T:"Transport Plants", Q:"Root hairs absorb ions (minerals) against concentration gradient by:", O:["Diffusion","Active Transport","Osmosis","Transpiration"], A:1, E:"Active transport uses energy/carrier proteins to move ions from low (soil) to high (root) concentration."},
  {T:"Transport Animals", Q:"Which vessel contains valves?", O:["Arteries","Veins","Capillaries","Arterioles"], A:1, E:"Veins have low pressure; valves prevent blood flowing backward."},
  {T:"Transport Animals", Q:"Pulse rate is a measure of:", O:["Breathing rate","Heart beat","Blood pressure","Digestion"], A:1, E:"The pulse is caused by the expansion of arteries with every heart beat."},
  {T:"Gas Exchange", Q:"Goblet cells produce:", O:["Cilia","Mucus","Saliva","Acid"], A:1, E:"Mucus traps dust and pathogens in the airways."},
  {T:"Respiration", Q:"Which produces the most energy per glucose molecule?", O:["Aerobic respiration","Anaerobic respiration","Fermentation","Photosynthesis"], A:0, E:"Aerobic respiration completely breaks down glucose, releasing much more ATP."},
  {T:"Reproduction Plants", Q:"Dispersal of seeds prevents:", O:["Pollination","Competition","Fertilization","Germination"], A:1, E:"Moving seeds away from the parent plant reduces competition for light, water, and minerals."},
  {T:"Reproduction Humans", Q:"The release of an egg from the ovary is called:", O:["Menstruation","Fertilization","Ovulation","Implantation"], A:2, E:"Ovulation is the release of the ovum (egg)."},
  {T:"Organization", Q:"Magnification is calculated by:", O:["Image size / Actual size","Actual size / Image size","Image size x Actual size","Image + Actual"], A:0, E:"Remember the triangle: I = A x M, so M = I / A."},
  {T:"Classification", Q:"Arthropods with 3 pairs of legs and 2 pairs of wings are:", O:["Arachnids","Crustaceans","Insects","Myriapods"], A:2, E:"Insects (like flies/bees) have 3 pairs of legs and usually wings."},
  {T:"Enzymes", Q:"Biological washing powders contain enzymes to remove:", O:["Stains (Proteins/Fats)","Water","Bacteria","Color"], A:0, E:"Proteases and lipases digest food stains at lower temperatures."},
  {T:"Human Nutrition", Q:"Excess amino acids are broken down in the liver by:", O:["Digestion","Deamination","Assimilation","Ingestion"], A:1, E:"Deamination removes the nitrogen part, turning it into urea."},
  {T:"Transport Animals", Q:"Coronary arteries supply blood to the:", O:["Brain","Lungs","Heart muscle","Liver"], A:2, E:"Blockage of coronary arteries leads to heart attack."},
  {T:"Gas Exchange", Q:"Tobacco smoke affects cilia by:", O:["Making them grow","Paralyzing them","Changing their color","Strengthening them"], A:1, E:"Paralyzed cilia cannot clear mucus, leading to smoker's cough and infection."},
  {T:"Reproduction Plants", Q:"Wind pollinated flowers typically have:", O:["Bright petals","Scent","Feathery stigmas","Nectar"], A:2, E:"Feathery stigmas catch drifting pollen. They don't need to attract insects."},
  {T:"Inheritance", Q:"A mutation is a change in:", O:["The cell wall","A gene or chromosome","The cytoplasm","The phenotype"], A:1, E:"Mutations are genetic changes. They can be harmful, beneficial, or neutral."},
  {T:"Ecology", Q:"The arrows in a food web represent:", O:["Who eats who","Transfer of energy","Evolution","Movement"], A:1, E:"Arrows point from the food TO the eater (direction of energy flow)."}
];

// STATE
let curIdx = 0;
let score = 0;
let userAns = null;
const shuffled = db.sort(() => 0.5 - Math.random());

// DOM ELEMENTS
const qEl = document.getElementById('question');
const tEl = document.getElementById('topic');
const oEl = document.getElementById('options');
const expEl = document.getElementById('explanation');
const expTxt = document.getElementById('exp-text');
const scoreEl = document.getElementById('score');
const qTotalEl = document.getElementById('q-idx');
const nextBtn = document.getElementById('next-btn');
const viewBtn = document.getElementById('view-ans');

// INIT
document.getElementById('q-total').innerText = db.length;
loadQ();

function loadQ() {
    // Reset UI
    userAns = null;
    expEl.style.display = 'none';
    nextBtn.classList.add('hidden');
    viewBtn.classList.remove('hidden');
    oEl.innerHTML = '';
    
    // Load Data
    const data = shuffled[curIdx];
    qTotalEl.innerText = curIdx + 1;
    tEl.innerText = data.T;
    qEl.innerText = data.Q;

    // Create Buttons
    data.O.forEach((opt, i) => {
        const btn = document.createElement('div');
        btn.className = 'opt-btn';
        btn.innerText = opt;
        btn.onclick = () => check(i, btn);
        oEl.appendChild(btn);
    });
}

function check(idx, btn) {
    if (userAns !== null) return;
    userAns = idx;
    const data = shuffled[curIdx];
    const allBtns = oEl.children;

    if (idx === data.A) {
        btn.classList.add('correct');
        score++;
        scoreEl.innerText = score;
    } else {
        if(idx !== -1) btn.classList.add('wrong');
        allBtns[data.A].classList.add('correct');
    }

    // Disable all
    Array.from(allBtns).forEach(b => b.classList.add('disabled'));
    
    // Show Expl
    expTxt.innerText = data.E;
    expEl.style.display = 'block';
    
    // Footer Logic
    viewBtn.classList.add('hidden');
    nextBtn.classList.remove('hidden');
    
    // Auto Scroll if needed
    setTimeout(() => {
        window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
    }, 100);
}

function showAnswer() {
    check(-1, null);
}

function nextQ() {
    curIdx++;
    if (curIdx < shuffled.length) {
        loadQ();
        window.scrollTo(0,0);
    } else {
        finish();
    }
}

function finish() {
    document.getElementById('quiz-main').style.display = 'none';
    document.querySelector('footer').style.display = 'none';
    document.querySelector('header').style.display = 'none';
    
    const res = document.getElementById('result-screen');
    res.style.display = 'block';
    
    const percent = Math.round((score / db.length) * 100);
    document.getElementById('final-percent').innerText = percent + "%";
    document.getElementById('progress-ring').setAttribute('stroke-dasharray', `${percent}, 100`);
    
    let msg = "Keep practicing!";
    if(percent > 50) msg = "Good effort!";
    if(percent > 70) msg = "Great job!";
    if(percent > 90) msg = "Outstanding! Exam ready.";
    document.getElementById('final-msg').innerText = msg;
}
</script>
</body>

</html>
