<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>IG-Bio | Ch 17: Variation & Selection</title>
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=Crimson+Pro:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- PDF Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

    <style>
        :root {
            /* Theme: Forest Green / Amber for Evolution/Nature */
            --primary: #15803d; /* Green 700 */
            --primary-dark: #14532d; /* Green 900 */
            --accent: #d97706; /* Amber 600 */
            --bg: #f0fdf4; /* Light Green tint */
            --text: #334155;
            --sidebar-w: 280px;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }

        body {
            font-family: 'Inter', sans-serif;
            background: var(--bg);
            color: var(--text);
            height: 100vh;
            display: flex;
            overflow: hidden;
        }

        /* --- NAVIGATION BUTTON (Fixed Circular) --- */
        .menu-toggle {
            display: none; /* Hidden on desktop */
            position: fixed; top: 20px; left: 20px; z-index: 3000;
            background: var(--primary); color: white; border: none;
            width: 50px; height: 50px; border-radius: 50%;
            font-size: 1.4rem; cursor: pointer;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            align-items: center; justify-content: center;
            transition: transform 0.2s;
        }
        .menu-toggle:active { transform: scale(0.9); }

        /* --- MOBILE OVERLAY --- */
        .overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.5); z-index: 1999;
            opacity: 0; visibility: hidden; transition: 0.3s;
            backdrop-filter: blur(2px);
        }
        .overlay.active { opacity: 1; visibility: visible; }

        /* --- SIDEBAR --- */
        aside {
            width: var(--sidebar-w);
            background: #022c22; /* Very Dark Green */
            color: white;
            display: flex;
            flex-direction: column;
            padding: 30px 20px;
            flex-shrink: 0;
            z-index: 2000;
            border-right: 1px solid #14532d;
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .brand {
            font-size: 1.5rem; font-weight: 800; color: #4ade80; margin-bottom: 40px;
            display: flex; align-items: center; gap: 10px; letter-spacing: -0.5px;
        }

        .nav-item {
            padding: 16px; margin-bottom: 8px; border-radius: 8px;
            cursor: pointer; color: #cbd5e1; font-weight: 600;
            display: flex; align-items: center; gap: 15px; transition: 0.2s;
            border: 1px solid transparent;
        }
        .nav-item:hover { background: rgba(255,255,255,0.1); color: white; }
        .nav-item.active { background: var(--primary); color: white; box-shadow: 0 4px 12px rgba(21, 128, 61, 0.4); }

        /* --- MAIN CONTENT --- */
        main { flex: 1; position: relative; overflow: hidden; width: 100%; }

        .view-panel {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            overflow-y: auto; padding: 0; display: none; opacity: 0;
            transition: opacity 0.4s;
        }
        .view-panel.active { display: block; opacity: 1; }

        /* --- TEXTBOOK STYLING --- */
        .paper {
            max-width: 950px; margin: 0 auto; background: white;
            padding: 80px; min-height: 100vh;
            box-shadow: 0 0 40px rgba(0,0,0,0.05);
        }

        h1 { font-family: 'Inter', sans-serif; font-size: 3rem; color: var(--primary-dark); margin-bottom: 10px; letter-spacing: -1px; }
        .meta { color: #64748b; text-transform: uppercase; font-weight: bold; font-size: 0.8rem; letter-spacing: 1px; }
        
        h2 { 
            font-family: 'Inter', sans-serif; font-size: 1.8rem; color: #1e293b; 
            margin-top: 60px; margin-bottom: 25px; padding-bottom: 15px; 
            border-bottom: 2px solid #e2e8f0; display: flex; align-items: center; gap: 10px;
        }
        
        h3 { font-family: 'Inter', sans-serif; font-size: 1.3rem; color: var(--primary); margin-top: 35px; margin-bottom: 15px; }

        p {
            font-family: 'Crimson Pro', serif; font-size: 1.2rem; line-height: 1.8;
            color: #334155; margin-bottom: 20px;
        }
        li { font-family: 'Crimson Pro', serif; font-size: 1.15rem; line-height: 1.7; margin-bottom: 8px; margin-left: 20px; }
        
        /* Concept Boxes */
        .concept-box {
            background: #dcfce7; border-left: 5px solid var(--primary);
            padding: 25px; margin: 30px 0; border-radius: 0 8px 8px 0;
        }
        .concept-box strong { color: var(--primary-dark); font-family: 'Inter', sans-serif; }

        .exam-tip {
            background: #fffbeb; border: 1px solid #fcd34d; border-radius: 8px;
            padding: 20px; margin: 30px 0; display: flex; gap: 15px; align-items: flex-start;
        }
        .exam-tip i { color: var(--accent); font-size: 1.5rem; margin-top: 3px; }
        .exam-tip strong { color: #b45309; }

        /* Tables */
        .t-wrap { overflow-x: auto; margin: 30px 0; border: 1px solid #e2e8f0; border-radius: 8px; }
        table { width: 100%; border-collapse: collapse; min-width: 700px; }
        th { background: #ecfccb; color: var(--primary-dark); padding: 16px; text-align: left; font-family: 'Inter', sans-serif; font-weight: 700; border-bottom: 2px solid #bef264; }
        td { padding: 16px; border-bottom: 1px solid #e2e8f0; vertical-align: top; font-family: 'Crimson Pro', serif; font-size: 1.1rem; }
        tr:last-child td { border-bottom: none; }

        /* --- MIND MAP --- */
        .mm-wrapper { padding: 80px; display: inline-flex; min-width: 100%; justify-content: center; background: #f0fdf4; }
        .tree ul { padding-top: 20px; position: relative; display: flex; justify-content: center; }
        .tree li { float: left; text-align: center; list-style-type: none; position: relative; padding: 20px 10px 0 10px; }
        .tree li::before, .tree li::after { content: ''; position: absolute; top: 0; right: 50%; border-top: 2px solid #94a3b8; width: 50%; height: 20px; }
        .tree li::after { right: auto; left: 50%; border-left: 2px solid #94a3b8; }
        .tree li:only-child::after, .tree li:only-child::before { display: none; } .tree li:only-child { padding-top: 0; }
        .tree li:first-child::before, .tree li:last-child::after { border: 0 none; }
        .tree li:last-child::before { border-right: 2px solid #94a3b8; border-radius: 0 5px 0 0; }
        .tree li:first-child::after { border-radius: 5px 0 0 0; }
        .tree ul ul::before { content: ''; position: absolute; top: 0; left: 50%; border-left: 2px solid #94a3b8; width: 0; height: 20px; }

        .node {
            background: white; border: 1px solid #cbd5e1; padding: 12px 18px; border-radius: 8px;
            display: inline-block; min-width: 140px; font-family: 'Inter', sans-serif; font-weight: 600; color: var(--primary-dark);
            box-shadow: 0 4px 6px rgba(0,0,0,0.05); position: relative; z-index: 2;
        }
        .root-node { background: var(--primary-dark); color: white; transform: scale(1.1); box-shadow: 0 10px 20px rgba(0,0,0,0.1); }

        /* --- QUIZ --- */
        .quiz-area { max-width: 900px; margin: 0 auto; padding: 40px 20px; }
        .q-card { background: white; padding: 30px; margin-bottom: 20px; border-radius: 12px; box-shadow: 0 2px 10px rgba(0,0,0,0.03); border: 1px solid #e2e8f0; }
        .q-opt {
            display: flex; align-items: center; gap: 15px; padding: 15px; border: 1px solid #e2e8f0;
            margin-top: 10px; border-radius: 8px; cursor: pointer; transition: 0.2s;
        }
        .q-opt:hover { background: #f1f5f9; border-color: #94a3b8; }
        .q-let { font-weight: 900; color: #94a3b8; background: #f1f5f9; width: 30px; height: 30px; border-radius: 50%; display: flex; align-items: center; justify-content: center; }
        
        .q-opt.correct { background: #dcfce7; border-color: var(--primary); }
        .q-opt.correct .q-let { background: var(--primary); color: white; }
        .q-opt.wrong { background: #fef2f2; border-color: #ef4444; }
        .q-opt.wrong .q-let { background: #ef4444; color: white; }

        /* --- MOBILE --- */
        @media (max-width: 768px) {
            .menu-toggle { display: flex; }
            aside { position: fixed; top: 0; left: -100%; height: 100%; width: 85%; box-shadow: 10px 0 30px rgba(0,0,0,0.5); }
            aside.active { left: 0; }
            .paper { padding: 30px 20px; }
            h1 { font-size: 2.2rem; }
            .mm-wrapper { justify-content: flex-start; padding: 40px; }
        }
    </style>
</head>
<body>

    <!-- MENU BUTTON -->
    <button class="menu-toggle" onclick="toggleMenu()">
        <i class="fa-solid fa-bars"></i>
    </button>
    <div class="overlay" id="overlay" onclick="toggleMenu()"></div>

    <!-- SIDEBAR -->
    <aside id="sidebar">
        <div class="brand"><i class="fa-solid fa-dna"></i> IG-BIO EVOLUTION</div>
        
        <div class="nav-item active" onclick="switchTab('notes', this)">
            <i class="fa-solid fa-leaf"></i> Full Notes
        </div>
        <div class="nav-item" onclick="switchTab('mindmap', this)">
            <i class="fa-solid fa-network-wired"></i> Mind Map
        </div>
        <div class="nav-item" onclick="switchTab('quiz', this)">
            <i class="fa-solid fa-clipboard-question"></i> 50 Qs Quiz
        </div>
        
        <div style="margin-top:auto; padding-top:20px; border-top:1px solid #1e293b;">
             <div class="nav-item" onclick="genPDF()" style="color:#4ade80; border-color:#14532d;">
                 <i class="fa-solid fa-file-pdf"></i> Save as PDF
             </div>
        </div>
    </aside>

    <main>
        
        <!-- 1. DETAILED NOTES -->
        <div id="notes" class="view-panel active">
            <div class="paper" id="pdf-source">
                <span class="meta">IGCSE Biology 0610 â€¢ Chapter 17</span>
                <h1>Variation and Selection</h1>
                <p>This chapter explores the differences between individuals of the same species, how these differences arise (mutation), how organisms adapt to their environment, and the mechanisms of evolution (natural vs. artificial selection).</p>

                <h2>1. Variation</h2>
                <div class="concept-box">
                    <strong>Definition: Variation</strong><br>
                    Differences between individuals of the same species.
                </div>
                
                <p>Variation can be caused by:</p>
                <ol>
                    <li><strong>Genetic Factors:</strong> Differences in genes/alleles (e.g., blood group).</li>
                    <li><strong>Environmental Factors:</strong> Differences in surroundings (e.g., scars, language).</li>
                    <li><strong>Both:</strong> A mix of genetics and environment (e.g., height, weight).</li>
                </ol>

                <h3>Continuous vs. Discontinuous Variation</h3>
                <div class="t-wrap">
                    <table>
                        <tr><th>Feature</th><th>Continuous Variation</th><th>Discontinuous Variation</th></tr>
                        <tr><td><strong>Definition</strong></td><td>A range of phenotypes between two extremes. No distinct categories.</td><td>Distinct categories with no intermediates.</td></tr>
                        <tr><td><strong>Control</strong></td><td>Many genes (Polygenic) + Environment.</td><td>One or a few genes. Little environmental effect.</td></tr>
                        <tr><td><strong>Graph</strong></td><td>Bell Curve (Normal Distribution).</td><td>Bar Chart.</td></tr>
                        <tr><td><strong>Examples</strong></td><td>Height, Hand span, Weight.</td><td>Blood Group (A, B, AB, O), Tongue rolling.</td></tr>
                    </table>
                </div>

                <h2>2. Mutation</h2>
                <div class="concept-box">
                    <strong>Definition: Mutation</strong><br>
                    Genetic change. This is the way new alleles are formed.
                </div>
                <ul>
                    <li>A gene mutation is a change in the base sequence of DNA.</li>
                    <li>Mutations can be inherited if they occur in gametes.</li>
                    <li><strong>Rate of Mutation:</strong> Increased by exposure to <strong>ionizing radiation</strong> (X-rays, UV light) and certain <strong>chemicals</strong> (tar in tobacco).</li>
                </ul>

                <h2>3. Adaptive Features</h2>
                <div class="concept-box">
                    <strong>Definition: Adaptive Feature</strong><br>
                    An inherited functional feature of an organism that increases its fitness (ability to survive and reproduce).
                </div>

                <h3>Adaptations in Plants</h3>
                <div class="t-wrap">
                    <table>
                        <tr><th>Type</th><th>Environment</th><th>Adaptations</th></tr>
                        <tr>
                            <td><strong>Xerophytes</strong><br>(e.g., Cactus, Marram Grass)</td>
                            <td>Dry / Desert (Low water)</td>
                            <td>
                                <ul>
                                    <li><strong>Thick waxy cuticle:</strong> Reduces water loss by evaporation.</li>
                                    <li><strong>Sunken stomata:</strong> Traps moist air, lowering concentration gradient.</li>
                                    <li><strong>Rolled leaves:</strong> Reduces surface area exposed to wind/sun.</li>
                                    <li><strong>Deep roots:</strong> Absorb groundwater.</li>
                                </ul>
                            </td>
                        </tr>
                        <tr>
                            <td><strong>Hydrophytes</strong><br>(e.g., Water Lily)</td>
                            <td>Aquatic (Lots of water)</td>
                            <td>
                                <ul>
                                    <li><strong>Stomata on upper surface:</strong> For gas exchange with air.</li>
                                    <li><strong>Large air spaces:</strong> Buoyancy to float.</li>
                                    <li><strong>Thin cuticle:</strong> No need to conserve water.</li>
                                </ul>
                            </td>
                        </tr>
                    </table>
                </div>

                <h2>4. Natural Selection</h2>
                <p>Proposed by Charles Darwin. It is the mechanism of evolution.</p>
                
                <ol>
                    <li><strong>Variation:</strong> Populations have natural variation caused by gene mutation.</li>
                    <li><strong>Competition:</strong> Resources (food, mates, space) are limited. There is a struggle for survival.</li>
                    <li><strong>Survival of the Fittest:</strong> Individuals with the best adapted traits survive.</li>
                    <li><strong>Reproduction:</strong> Survivors reproduce and pass on their <strong>alleles</strong> to the next generation.</li>
                    <li><strong>Evolution:</strong> Over time, the population changes to be better adapted.</li>
                </ol>

                <div class="exam-tip">
                    <i class="fa-solid fa-triangle-exclamation"></i>
                    <div>
                        <strong>Exam Example: Antibiotic Resistance</strong><br>
                        Bacteria reproduce rapidly. If antibiotics are used:
                        1. A random <strong>mutation</strong> gives a bacterium resistance.
                        2. Antibiotics kill non-resistant bacteria.
                        3. The resistant bacterium survives (less competition).
                        4. It reproduces, passing the resistance allele to offspring.
                        5. The whole population becomes resistant.
                    </div>
                </div>

                <h2>5. Artificial Selection (Selective Breeding)</h2>
                <p>Humans choose individuals with desirable features to breed together.</p>
                <ul>
                    <li><strong>Examples:</strong> Cows with high milk yield, crops with disease resistance, dogs with gentle nature.</li>
                    <li><strong>Process:</strong> Select parents with desired traits &rarr; Breed them &rarr; Select best offspring &rarr; Repeat for many generations.</li>
                </ul>

                <h3>Difference between Natural vs. Artificial Selection</h3>
                <div class="t-wrap">
                    <table>
                        <tr><th>Natural Selection</th><th>Artificial Selection</th></tr>
                        <tr><td>Environment selects the fittest.</td><td>Humans select desired traits.</td></tr>
                        <tr><td>Slow process.</td><td>Faster process.</td></tr>
                        <tr><td>Maintains variation for survival.</td><td>Reduces genetic variation (inbreeding risk).</td></tr>
                        <tr><td>Benefit: Organism survival.</td><td>Benefit: Human economic needs.</td></tr>
                    </table>
                </div>

                <div style="height:100px;"></div>
            </div>
        </div>

        <!-- 2. MIND MAP -->
        <div id="mindmap" class="view-panel">
            <div class="mm-wrapper">
                <div class="tree">
                    <ul>
                        <li>
                            <div class="node root-node">VARIATION & SELECTION</div>
                            <ul>
                                <li>
                                    <div class="node">Variation</div>
                                    <ul>
                                        <li><div class="node">Continuous (Height)</div></li>
                                        <li><div class="node">Discontinuous (Blood)</div></li>
                                        <li><div class="node">Mutation (New Alleles)</div></li>
                                    </ul>
                                </li>
                                <li>
                                    <div class="node">Adaptation</div>
                                    <ul>
                                        <li><div class="node">Xerophytes (Dry)</div></li>
                                        <li><div class="node">Hydrophytes (Wet)</div></li>
                                    </ul>
                                </li>
                                <li>
                                    <div class="node">Natural Selection</div>
                                    <ul>
                                        <li><div class="node">Variation/Mutation</div></li>
                                        <li><div class="node">Competition</div></li>
                                        <li><div class="node">Survival & Reproduce</div></li>
                                        <li><div class="node">Ex: Antibiotic Res.</div></li>
                                    </ul>
                                </li>
                                <li>
                                    <div class="node">Artificial Selection</div>
                                    <ul>
                                        <li><div class="node">Human Choice</div></li>
                                        <li><div class="node">Economic Benefit</div></li>
                                    </ul>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- 3. QUIZ -->
        <div id="quiz" class="view-panel">
            <div class="quiz-area" id="q-container"></div>
        </div>

    </main>

    <script>
        // --- UI LOGIC ---
        function toggleMenu() {
            const sb = document.getElementById('sidebar');
            const ov = document.getElementById('overlay');
            if(sb.style.left === '0px') {
                sb.style.left = '-100%';
                ov.classList.remove('active');
            } else {
                sb.style.left = '0px';
                ov.classList.add('active');
            }
        }

        function switchTab(id, btn) {
            document.querySelectorAll('.view-panel').forEach(p => p.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            document.querySelectorAll('.nav-item').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            
            if(window.innerWidth <= 768) {
                document.getElementById('sidebar').style.left = '-100%';
                document.getElementById('overlay').classList.remove('active');
            }
        }

        function genPDF() {
            const { jsPDF } = window.jspdf;
            const element = document.getElementById('pdf-source');
            const origWidth = element.style.width;
            // Fix width to ensure consistent PDF layout
            element.style.width = '900px'; 
            
            html2canvas(element, { scale: 2 }).then(canvas => {
                element.style.width = origWidth;
                const img = canvas.toDataURL('image/png');
                const pdf = new jsPDF('p', 'mm', 'a4');
                const w = 210; const h = 297;
                const imgH = canvas.height * w / canvas.width;
                let hLeft = imgH; let pos = 0;

                pdf.addImage(img, 'PNG', 0, pos, w, imgH);
                hLeft -= h;
                while (hLeft >= 0) {
                    pos = hLeft - imgH;
                    pdf.addPage();
                    pdf.addImage(img, 'PNG', 0, pos, w, imgH);
                    hLeft -= h;
                }
                pdf.save('IG_Bio_Ch17_VariationSelection.pdf');
            });
        }

        // --- 50 QUESTIONS (Chapter 17: Variation & Selection) ---
        const qData = [
            {q:"Differences between individuals of the same species is called?", o:["Variation","Selection","Mutation","Evolution"], a:0},
            {q:"Height in humans is an example of which type of variation?", o:["Continuous","Discontinuous","Mutational","Artificial"], a:0},
            {q:"Blood group is an example of which type of variation?", o:["Discontinuous","Continuous","Environmental","Adaptive"], a:0},
            {q:"Continuous variation is usually represented by?", o:["Bell curve / Normal distribution","Bar chart","Pie chart","Line graph"], a:0},
            {q:"Discontinuous variation is usually represented by?", o:["Bar chart","Histogram","Line graph","Scatter plot"], a:0},
            {q:"Which of these is caused by genes alone?", o:["Blood group","Weight","Height","Skin tan"], a:0},
            {q:"Which of these is influenced by both genes and environment?", o:["Height","Eye color","Blood group","Attached earlobe"], a:0},
            {q:"What is a mutation?", o:["A change in a gene or chromosome","A change in environment","A type of reproduction","A disease"], a:0},
            {q:"Which factor increases the rate of mutation?", o:["Ionizing radiation","Drinking water","Eating sugar","Sleep"], a:0},
            {q:"Mutation is the only source of new...?", o:["Alleles","Cells","Organisms","Species"], a:0},
            {q:"An inherited feature that helps an organism survive is called?", o:["Adaptive feature","Mutation","Variation","Selection"], a:0},
            {q:"Plants adapted to dry environments are called?", o:["Xerophytes","Hydrophytes","Mesophytes","Halophytes"], a:0},
            {q:"Plants adapted to live in water are called?", o:["Hydrophytes","Xerophytes","Bryophytes","Fungi"], a:0},
            {q:"Where are stomata usually found on a water lily?", o:["Upper surface","Lower surface","Roots","Stem"], a:0},
            {q:"Why do xerophytes often have rolled leaves?", o:["Reduce surface area & trap moisture","Increase sunlight absorption","Float on water","Store food"], a:0},
            {q:"What is the function of a thick waxy cuticle in xerophytes?", o:["Reduce water loss","Absorb light","Protect from predators","Store water"], a:0},
            {q:"Why do xerophytes have deep roots?", o:["Reach underground water","Anchor against wind","Store starch","Absorb oxygen"], a:0},
            {q:"Sunken stomata help to?", o:["Trap moist air","Increase evaporation","Absorb more CO2","Release heat"], a:0},
            {q:"Who proposed the theory of Natural Selection?", o:["Charles Darwin","Gregor Mendel","Louis Pasteur","Robert Hooke"], a:0},
            {q:"Natural selection starts with?", o:["Variation in a population","Human choice","Change in environment","Extinction"], a:0},
            {q:"The 'struggle for existence' is caused by?", o:["Competition for resources","Too much food","Lack of predators","Humans"], a:0},
            {q:"In natural selection, who survives?", o:["The best adapted (fittest)","The strongest physically","The largest","The fastest"], a:0},
            {q:"What do survivors pass on to their offspring?", o:["Alleles","Mutations only","Strength","Scars"], a:0},
            {q:"Evolution is defined as?", o:["Change in adaptive features over time","Individuals growing larger","Learning new skills","Artificial breeding"], a:0},
            {q:"Antibiotic resistance in bacteria is an example of?", o:["Natural selection","Artificial selection","Continuous variation","Cloning"], a:0},
            {q:"What causes the initial resistance in bacteria?", o:["Random mutation","The antibiotic itself","Humans","Immunity"], a:0},
            {q:"Why should you finish a course of antibiotics?", o:["To kill all bacteria","To save money","To prevent side effects","To feed bacteria"], a:0},
            {q:"Which is NOT a step in natural selection?", o:["Humans select traits","Variation exists","Competition occurs","Survivors reproduce"], a:0},
            {q:"Selective breeding is also known as?", o:["Artificial selection","Natural selection","Mutation","Evolution"], a:0},
            {q:"In artificial selection, who chooses the parents?", o:["Humans","Nature","The environment","The animals"], a:0},
            {q:"Which is an example of artificial selection?", o:["Cows with high milk yield","Antibiotic resistant bacteria","Peppered moths","Cacti spines"], a:0},
            {q:"Artificial selection is generally _____ than natural selection.", o:["Faster","Slower","The same speed","Less effective"], a:0},
            {q:"A disadvantage of artificial selection is?", o:["Reduced genetic variation","Increased survival in wild","New species","Better health"], a:0},
            {q:"Inbreeding can lead to?", o:["Accumulation of harmful recessive alleles","New mutations","Super-organisms","Hybrid vigour"], a:0},
            {q:"Sickle cell anaemia is caused by?", o:["A gene mutation","A bacteria","A virus","Iron deficiency"], a:0},
            {q:"Which radiation can cause mutations?", o:["Gamma rays","Radio waves","Sound waves","Visible light"], a:0},
            {q:"Down syndrome is caused by?", o:["Chromosome mutation","Gene mutation","Virus","Bacteria"], a:0},
            {q:"What is the 'fitness' of an organism?", o:["Ability to survive and reproduce","Physical strength","Speed","Intelligence"], a:0},
            {q:"Hydrophytes have large air spaces to?", o:["Float / Buoyancy","Store water","Look bigger","Cool down"], a:0},
            {q:"Cacti have spines instead of leaves to?", o:["Reduce surface area/water loss","Look scary","Photosynthesize","Absorb rain"], a:0},
            {q:"Overproduction of offspring leads to?", o:["Competition","Extinction","Peace","More resources"], a:0},
            {q:"Why is variation important for a species?", o:["Helps survive environmental change","Looks nice","Makes them stronger","Reduces food need"], a:0},
            {q:"A distinct category of variation (e.g., Male/Female) is?", o:["Discontinuous","Continuous","Polygenic","Mutational"], a:0},
            {q:"Polygenic inheritance usually results in?", o:["Continuous variation","Discontinuous variation","Mutation","Death"], a:0},
            {q:"Selective breeding of plants has resulted in?", o:["Disease resistance / High yield","Weeds","Smaller fruits","Less food"], a:0},
            {q:"Which chemical is a mutagen?", o:["Tar (Tobacco)","Water","Glucose","Salt"], a:0},
            {q:"The change in the phenotype of a population over generations is?", o:["Evolution","Growth","Development","Metamorphosis"], a:0},
            {q:"If an environment changes, individuals with _____ are selected.", o:["Advantageous alleles","Strong muscles","Large size","Bright colors"], a:0},
            {q:"Ionizing radiation damages?", o:["DNA","Cell wall","Cytoplasm","Cell membrane"], a:0},
            {q:"The difference in hand span among students is?", o:["Continuous variation","Discontinuous variation","Mutation","Selection"], a:0}
        ];

        const qDiv = document.getElementById('q-container');
        const lets = ['A','B','C','D'];

        qData.forEach((q, idx) => {
            let opts = q.o.map((txt, i) => ({txt, i}));
            // Shuffle options
            opts.sort(() => Math.random() - 0.5);

            const card = document.createElement('div');
            card.className = 'q-card';
            card.innerHTML = `
                <h3 style="margin:0 0 15px 0; font-size:1.1rem; color:#334155;">${idx+1}. ${q.q}</h3>
                ${opts.map((o, k) => `
                    <div class="q-opt" onclick="check(${idx}, ${o.i}, this)">
                        <div class="q-let">${lets[k]}</div>
                        <div>${o.txt}</div>
                    </div>
                `).join('')}
            `;
            qDiv.appendChild(card);
        });

        function check(qIdx, oIdx, el) {
            const parent = el.parentElement;
            if(parent.classList.contains('locked')) return;
            parent.classList.add('locked');

            if(oIdx === qData[qIdx].a) {
                el.classList.add('correct');
            } else {
                el.classList.add('wrong');
                const text = qData[qIdx].o[qData[qIdx].a];
                for(let child of parent.children) {
                    if(child.innerText.includes(text)) child.classList.add('correct');
                }
            }
        }
    </script>
</body>
</html>
