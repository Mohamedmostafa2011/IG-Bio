<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>IG-Bio | Ch 13: Excretion in Humans</title>
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=Crimson+Pro:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- PDF Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

    <style>
        :root {
            /* Theme: Blue for Water/Excretion, Red for Blood Filtration */
            --primary: #0284c7; /* Sky 600 */
            --primary-dark: #075985; /* Sky 800 */
            --accent: #e11d48; /* Rose 600 (Blood/Organ accent) */
            --bg: #f0f9ff; /* Very light sky tint */
            --text: #334155;
            --sidebar-w: 280px;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }

        body {
            font-family: 'Inter', sans-serif;
            background: var(--bg);
            color: var(--text);
            height: 100vh;
            display: flex;
            overflow: hidden;
        }

        /* --- NAVIGATION BUTTON (Fixed Circular) --- */
        .menu-toggle {
            display: none; /* Hidden on desktop */
            position: fixed; top: 20px; left: 20px; z-index: 3000;
            background: var(--primary); color: white; border: none;
            width: 50px; height: 50px; border-radius: 50%;
            font-size: 1.4rem; cursor: pointer;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            align-items: center; justify-content: center;
            transition: transform 0.2s;
        }
        .menu-toggle:active { transform: scale(0.9); }

        /* --- MOBILE OVERLAY --- */
        .overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.5); z-index: 1999;
            opacity: 0; visibility: hidden; transition: 0.3s;
            backdrop-filter: blur(2px);
        }
        .overlay.active { opacity: 1; visibility: visible; }

        /* --- SIDEBAR --- */
        aside {
            width: var(--sidebar-w);
            background: #0c4a6e; /* Very Dark Blue */
            color: white;
            display: flex;
            flex-direction: column;
            padding: 30px 20px;
            flex-shrink: 0;
            z-index: 2000;
            border-right: 1px solid #075985;
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .brand {
            font-size: 1.5rem; font-weight: 800; color: #7dd3fc; margin-bottom: 40px;
            display: flex; align-items: center; gap: 10px; letter-spacing: -0.5px;
        }

        .nav-item {
            padding: 16px; margin-bottom: 8px; border-radius: 8px;
            cursor: pointer; color: #bae6fd; font-weight: 600;
            display: flex; align-items: center; gap: 15px; transition: 0.2s;
            border: 1px solid transparent;
        }
        .nav-item:hover { background: rgba(255,255,255,0.1); color: white; }
        .nav-item.active { background: var(--primary); color: white; box-shadow: 0 4px 12px rgba(2, 132, 199, 0.4); }

        /* --- MAIN CONTENT --- */
        main { flex: 1; position: relative; overflow: hidden; width: 100%; }

        .view-panel {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            overflow-y: auto; padding: 0; display: none; opacity: 0;
            transition: opacity 0.4s;
        }
        .view-panel.active { display: block; opacity: 1; }

        /* --- TEXTBOOK STYLING --- */
        .paper {
            max-width: 950px; margin: 0 auto; background: white;
            padding: 80px; min-height: 100vh;
            box-shadow: 0 0 40px rgba(0,0,0,0.05);
        }

        h1 { font-family: 'Inter', sans-serif; font-size: 3rem; color: var(--primary-dark); margin-bottom: 10px; letter-spacing: -1px; }
        .meta { color: var(--primary); text-transform: uppercase; font-weight: bold; font-size: 0.8rem; letter-spacing: 1px; }
        
        h2 { 
            font-family: 'Inter', sans-serif; font-size: 1.8rem; color: #0c4a6e; 
            margin-top: 60px; margin-bottom: 25px; padding-bottom: 15px; 
            border-bottom: 2px solid #bae6fd; display: flex; align-items: center; gap: 10px;
        }
        
        h3 { font-family: 'Inter', sans-serif; font-size: 1.3rem; color: var(--primary); margin-top: 35px; margin-bottom: 15px; }

        p {
            font-family: 'Crimson Pro', serif; font-size: 1.2rem; line-height: 1.8;
            color: #334155; margin-bottom: 20px;
        }
        li { font-family: 'Crimson Pro', serif; font-size: 1.15rem; line-height: 1.7; margin-bottom: 8px; margin-left: 20px; }
        
        /* Concept Boxes */
        .concept-box {
            background: #f0f9ff; border-left: 5px solid var(--accent);
            padding: 25px; margin: 30px 0; border-radius: 0 8px 8px 0;
        }
        .concept-box strong { color: var(--accent); font-family: 'Inter', sans-serif; }

        .exam-tip {
            background: #fff1f2; border: 1px solid #fda4af; border-radius: 8px;
            padding: 20px; margin: 30px 0; display: flex; gap: 15px; align-items: flex-start;
        }
        .exam-tip i { color: #e11d48; font-size: 1.5rem; margin-top: 3px; }
        .exam-tip strong { color: #be123c; }

        /* Tables */
        .t-wrap { overflow-x: auto; margin: 30px 0; border: 1px solid #bae6fd; border-radius: 8px; }
        table { width: 100%; border-collapse: collapse; min-width: 700px; }
        th { background: #e0f2fe; color: var(--primary-dark); padding: 16px; text-align: left; font-family: 'Inter', sans-serif; font-weight: 700; border-bottom: 2px solid #7dd3fc; }
        td { padding: 16px; border-bottom: 1px solid #bae6fd; vertical-align: top; font-family: 'Crimson Pro', serif; font-size: 1.1rem; }
        tr:last-child td { border-bottom: none; }

        /* --- MIND MAP --- */
        .mm-wrapper { padding: 80px; display: inline-flex; min-width: 100%; justify-content: center; background: #f0f9ff; }
        .tree ul { padding-top: 20px; position: relative; display: flex; justify-content: center; }
        .tree li { float: left; text-align: center; list-style-type: none; position: relative; padding: 20px 10px 0 10px; }
        .tree li::before, .tree li::after { content: ''; position: absolute; top: 0; right: 50%; border-top: 2px solid #38bdf8; width: 50%; height: 20px; }
        .tree li::after { right: auto; left: 50%; border-left: 2px solid #38bdf8; }
        .tree li:only-child::after, .tree li:only-child::before { display: none; } .tree li:only-child { padding-top: 0; }
        .tree li:first-child::before, .tree li:last-child::after { border: 0 none; }
        .tree li:last-child::before { border-right: 2px solid #38bdf8; border-radius: 0 5px 0 0; }
        .tree li:first-child::after { border-radius: 5px 0 0 0; }
        .tree ul ul::before { content: ''; position: absolute; top: 0; left: 50%; border-left: 2px solid #38bdf8; width: 0; height: 20px; }

        .node {
            background: white; border: 1px solid #0ea5e9; padding: 12px 18px; border-radius: 8px;
            display: inline-block; min-width: 140px; font-family: 'Inter', sans-serif; font-weight: 600; color: var(--primary-dark);
            box-shadow: 0 4px 6px rgba(0,0,0,0.05); position: relative; z-index: 2;
        }
        .root-node { background: var(--primary); color: white; transform: scale(1.1); box-shadow: 0 10px 20px rgba(0,0,0,0.1); border: none; }

        /* --- QUIZ --- */
        .quiz-area { max-width: 900px; margin: 0 auto; padding: 40px 20px; }
        .q-card { background: white; padding: 30px; margin-bottom: 20px; border-radius: 12px; box-shadow: 0 2px 10px rgba(0,0,0,0.03); border: 1px solid #bae6fd; }
        .q-opt {
            display: flex; align-items: center; gap: 15px; padding: 15px; border: 1px solid #e2e8f0;
            margin-top: 10px; border-radius: 8px; cursor: pointer; transition: 0.2s;
        }
        .q-opt:hover { background: #e0f2fe; border-color: #38bdf8; }
        .q-let { font-weight: 900; color: #94a3b8; background: #f1f5f9; width: 30px; height: 30px; border-radius: 50%; display: flex; align-items: center; justify-content: center; }
        
        .q-opt.correct { background: #dcfce7; border-color: #16a34a; }
        .q-opt.correct .q-let { background: #16a34a; color: white; }
        .q-opt.wrong { background: #fee2e2; border-color: #ef4444; }
        .q-opt.wrong .q-let { background: #ef4444; color: white; }

        /* --- MOBILE --- */
        @media (max-width: 768px) {
            .menu-toggle { display: flex; }
            aside { position: fixed; top: 0; left: -100%; height: 100%; width: 85%; box-shadow: 10px 0 30px rgba(0,0,0,0.5); }
            aside.active { left: 0; }
            .paper { padding: 30px 20px; }
            h1 { font-size: 2.2rem; }
            .mm-wrapper { justify-content: flex-start; padding: 40px; }
        }
    </style>
</head>
<body>

    <!-- MENU BUTTON -->
    <button class="menu-toggle" onclick="toggleMenu()">
        <i class="fa-solid fa-bars"></i>
    </button>
    <div class="overlay" id="overlay" onclick="toggleMenu()"></div>

    <!-- SIDEBAR -->
    <aside id="sidebar">
        <div class="brand"><i class="fa-solid fa-droplet"></i> IG-BIO CH13</div>
        
        <div class="nav-item active" onclick="switchTab('notes', this)">
            <i class="fa-solid fa-book-medical"></i> Full Notes
        </div>
        <div class="nav-item" onclick="switchTab('mindmap', this)">
            <i class="fa-solid fa-sitemap"></i> Mind Map
        </div>
        <div class="nav-item" onclick="switchTab('quiz', this)">
            <i class="fa-solid fa-flask"></i> 50 Qs Quiz
        </div>
        
        <div style="margin-top:auto; padding-top:20px; border-top:1px solid #075985;">
             <div class="nav-item" onclick="genPDF()" style="color:#7dd3fc; border-color:#075985;">
                 <i class="fa-solid fa-file-pdf"></i> Save as PDF
             </div>
        </div>
    </aside>

    <main>
        
        <!-- 1. DETAILED NOTES -->
        <div id="notes" class="view-panel active">
            <div class="paper" id="pdf-source">
                <span class="meta">IGCSE Biology 0610 â€¢ Chapter 13</span>
                <h1>Excretion in Humans</h1>
                <p>Excretion is the removal from organisms of the waste products of metabolism (chemical reactions in cells), toxic materials, and substances in excess of requirements.</p>

                <div class="exam-tip">
                    <i class="fa-solid fa-triangle-exclamation"></i>
                    <div>
                        <strong>Excretion vs. Egestion:</strong> Do not confuse them!<br>
                        <strong>Excretion:</strong> Removal of metabolic waste (from cells/blood) e.g., Urea, CO2.<br>
                        <strong>Egestion:</strong> Removal of undigested food (feces) via the anus. This food never entered the body's cells.
                    </div>
                </div>

                <h2>1. The Excretory Organs</h2>
                <div class="t-wrap">
                    <table>
                        <tr><th>Organ</th><th>Substance Excreted</th><th>Origin</th></tr>
                        <tr><td><strong>Lungs</strong></td><td>Carbon Dioxide</td><td>Waste product of Respiration.</td></tr>
                        <tr><td><strong>Skin</strong></td><td>Salts, Water, (trace Urea)</td><td>Excess intake (sweat).</td></tr>
                        <tr><td><strong>Kidneys</strong></td><td>Urea, Salts, Excess Water</td><td>Breakdown of amino acids; excess intake.</td></tr>
                    </table>
                </div>

                <h3>Formation of Urea (Deamination)</h3>
                <p>Excess amino acids cannot be stored in the body. They are broken down in the <strong>Liver</strong>:</p>
                <ol>
                    <li><strong>Deamination:</strong> The nitrogen-containing part is removed to form <strong>Ammonia</strong>.</li>
                    <li>Ammonia is very toxic, so it is immediately converted to <strong>Urea</strong> (less toxic).</li>
                    <li>Urea travels in the blood to the Kidneys to be excreted.</li>
                </ol>

                <h2>2. The Urinary System</h2>
                <p>The system responsible for filtering blood and producing urine.</p>
                <ul>
                    <li><strong>Renal Artery:</strong> Carries oxygenated blood (high in urea) <em>to</em> the kidney.</li>
                    <li><strong>Renal Vein:</strong> Carries deoxygenated blood (low in urea) <em>away from</em> the kidney.</li>
                    <li><strong>Kidney:</strong> Filters blood.</li>
                    <li><strong>Ureter:</strong> Tube carrying urine from kidney to bladder.</li>
                    <li><strong>Bladder:</strong> Stores urine.</li>
                    <li><strong>Urethra:</strong> Tube carrying urine out of the body.</li>
                </ul>

                <h3>Structure of the Kidney</h3>
                <ul>
                    <li><strong>Cortex:</strong> The outer, dark red layer. Contains Bowman's capsules.</li>
                    <li><strong>Medulla:</strong> The inner, lighter layer. Contains loops of Henle.</li>
                    <li><strong>Pelvis:</strong> The center, white area where urine collects.</li>
                </ul>

                <h2>3. The Nephron (Filtration Unit)</h2>
                <p>Each kidney contains thousands of tiny tubes called nephrons. They function in two stages:</p>

                <div class="concept-box">
                    <strong>1. Ultrafiltration:</strong> Occurs in the Glomerulus (ball of capillaries). High blood pressure forces small molecules (Water, Glucose, Urea, Salts) out of the blood and into the Bowman's Capsule. Large molecules (Proteins, Blood Cells) stay in the blood.
                </div>

                <div class="concept-box">
                    <strong>2. Selective Reabsorption:</strong> As the filtrate moves down the tubule, useful substances are taken back into the blood.<br>
                    - <strong>All Glucose:</strong> Reabsorbed (active transport) in the proximal tubule.<br>
                    - <strong>Some Water:</strong> Reabsorbed depending on body needs (Osmoregulation).
                </div>

                <h2>4. Kidney Dialysis & Transplants</h2>
                <p>If kidneys fail, urea builds up to toxic levels. Treatment is required.</p>
                
                <div class="t-wrap">
                    <table>
                        <tr><th>Method</th><th>Description</th><th>Pros / Cons</th></tr>
                        <tr><td><strong>Dialysis</strong></td><td>A machine filters blood. Blood flows alongside dialysis fluid separated by a membrane. Urea diffuses out.</td><td><strong>Pros:</strong> Available immediately, no rejection risk.<br><strong>Cons:</strong> Time-consuming, restrictive diet, expensive long-term.</td></tr>
                        <tr><td><strong>Transplant</strong></td><td>A healthy kidney from a donor is surgically implanted.</td><td><strong>Pros:</strong> Permanent cure, normal life.<br><strong>Cons:</strong> Risk of rejection, need immunosuppressant drugs for life, shortage of donors.</td></tr>
                    </table>
                </div>

                <h2>5. Volume & Concentration of Urine</h2>
                <p>The volume and concentration of urine depends on water intake, temperature, and exercise.</p>
                <ul>
                    <li><strong>High Water Intake:</strong> Kidneys reabsorb <em>less</em> water. Urine is <strong>pale and dilute</strong> (large volume).</li>
                    <li><strong>Hot Day / Exercise:</strong> Much water lost in sweat. Kidneys reabsorb <em>more</em> water. Urine is <strong>dark and concentrated</strong> (small volume).</li>
                </ul>

                <div style="height:100px;"></div>
            </div>
        </div>

        <!-- 2. MIND MAP -->
        <div id="mindmap" class="view-panel">
            <div class="mm-wrapper">
                <div class="tree">
                    <ul>
                        <li>
                            <div class="node root-node">EXCRETION</div>
                            <ul>
                                <li>
                                    <div class="node">Organs</div>
                                    <ul>
                                        <li><div class="node">Lungs (CO2)</div></li>
                                        <li><div class="node">Skin (Sweat)</div></li>
                                        <li><div class="node">Liver (Deamination)</div></li>
                                    </ul>
                                </li>
                                <li>
                                    <div class="node">Urinary System</div>
                                    <ul>
                                        <li><div class="node">Kidney</div></li>
                                        <li><div class="node">Ureter</div></li>
                                        <li><div class="node">Bladder</div></li>
                                    </ul>
                                </li>
                                <li>
                                    <div class="node">Nephron</div>
                                    <ul>
                                        <li><div class="node">Glomerulus</div></li>
                                        <li><div class="node">Filtration</div></li>
                                        <li><div class="node">Reabsorption</div></li>
                                    </ul>
                                </li>
                                <li>
                                    <div class="node">Treatments</div>
                                    <ul>
                                        <li><div class="node">Dialysis</div></li>
                                        <li><div class="node">Transplant</div></li>
                                        <li><div class="node">Rejection Risk</div></li>
                                    </ul>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- 3. QUIZ -->
        <div id="quiz" class="view-panel">
            <div class="quiz-area" id="q-container">
                <!-- Questions injected via JS -->
            </div>
        </div>

    </main>

    <script>
        // --- UI LOGIC ---
        function toggleMenu() {
            const sb = document.getElementById('sidebar');
            const ov = document.getElementById('overlay');
            if(sb.style.left === '0px') {
                sb.style.left = '-100%';
                ov.classList.remove('active');
            } else {
                sb.style.left = '0px';
                ov.classList.add('active');
            }
        }

        function switchTab(id, btn) {
            document.querySelectorAll('.view-panel').forEach(p => p.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            document.querySelectorAll('.nav-item').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            
            if(window.innerWidth <= 768) {
                document.getElementById('sidebar').style.left = '-100%';
                document.getElementById('overlay').classList.remove('active');
            }
        }

        function genPDF() {
            const { jsPDF } = window.jspdf;
            const element = document.getElementById('pdf-source');
            const origWidth = element.style.width;
            element.style.width = '900px'; 
            
            html2canvas(element, { scale: 2 }).then(canvas => {
                element.style.width = origWidth;
                const img = canvas.toDataURL('image/png');
                const pdf = new jsPDF('p', 'mm', 'a4');
                const w = 210; const h = 297;
                const imgH = canvas.height * w / canvas.width;
                let hLeft = imgH; let pos = 0;

                pdf.addImage(img, 'PNG', 0, pos, w, imgH);
                hLeft -= h;
                while (hLeft >= 0) {
                    pos = hLeft - imgH;
                    pdf.addPage();
                    pdf.addImage(img, 'PNG', 0, pos, w, imgH);
                    hLeft -= h;
                }
                pdf.save('IG_Bio_Ch13_Excretion.pdf');
            });
        }

        // --- 50 QUESTIONS (Excretion & Homeostasis) ---
        const qData = [
            {q:"What is the definition of Excretion?", o:["Removal of undigested food","Removal of metabolic waste","Removal of excess hormones only","Breathing in oxygen"], a:1},
            {q:"Which organ produces Urea?", o:["Kidney","Bladder","Liver","Pancreas"], a:2},
            {q:"What is the removal of undigested food called?", o:["Excretion","Egestion","Digestion","Assimilation"], a:1},
            {q:"Deamination involves the breakdown of?", o:["Excess Fats","Excess Amino Acids","Excess Glucose","Old blood cells"], a:1},
            {q:"Which toxic substance is formed first during deamination?", o:["Urea","Ammonia","Salt","Carbon Dioxide"], a:1},
            {q:"Ammonia is converted into which less toxic substance?", o:["Urea","Urine","Protein","Glucose"], a:0},
            {q:"Which blood vessel carries blood TO the kidney?", o:["Renal Vein","Renal Artery","Vena Cava","Aorta"], a:1},
            {q:"Which blood vessel carries blood AWAY from the kidney?", o:["Renal Vein","Renal Artery","Hepatic Vein","Pulmonary Vein"], a:0},
            {q:"Blood in the Renal Vein has?", o:["High Urea, High Oxygen","Low Urea, Low Oxygen","High Urea, Low Oxygen","Low Urea, High Oxygen"], a:1},
            {q:"The tube connecting the kidney to the bladder is?", o:["Urethra","Ureter","Oviduct","Vein"], a:1},
            {q:"The tube carrying urine out of the body is?", o:["Urethra","Ureter","Intestine","Artery"], a:0},
            {q:"What is the function of the bladder?", o:["Filter blood","Produce urea","Store urine","Reabsorb water"], a:2},
            {q:"The outer layer of the kidney is called the?", o:["Medulla","Pelvis","Cortex","Capsule"], a:2},
            {q:"The inner layer of the kidney is called the?", o:["Medulla","Pelvis","Cortex","Capsule"], a:0},
            {q:"Where does urine collect before entering the ureter?", o:["Cortex","Medulla","Pelvis","Glomerulus"], a:2},
            {q:"The filtering unit of the kidney is called a?", o:["Neuron","Nephron","Alveoli","Villi"], a:1},
            {q:"What process happens in the Glomerulus?", o:["Respiration","Active Transport","Ultrafiltration","Osmosis"], a:2},
            {q:"Which molecule is too large to pass through the filter?", o:["Glucose","Water","Protein","Urea"], a:2},
            {q:"Why does filtration happen in the Glomerulus?", o:["High blood pressure","Low blood pressure","Active transport","Diffusion"], a:0},
            {q:"Where is glucose reabsorbed?", o:["Loop of Henle","Collecting Duct","Proximal Convoluted Tubule","Glomerulus"], a:2},
            {q:"How much glucose is reabsorbed in a healthy person?", o:["50%","None","100%","10%"], a:2},
            {q:"If glucose is found in urine, it indicates?", o:["Kidney failure","Diabetes","High salt intake","Dehydration"], a:1},
            {q:"Water reabsorption is controlled by which principle?", o:["Active Transport","Osmosis","Diffusion","Filtration"], a:1},
            {q:"On a hot day, the volume of urine produced is?", o:["High","Low","Normal","Zero"], a:1},
            {q:"On a hot day, the concentration of urine is?", o:["Dilute","Concentrated","Watery","Clear"], a:1},
            {q:"If you drink lots of water, your urine will be?", o:["Dark yellow","Pale/Clear","Red","Cloudy"], a:1},
            {q:"Which treatment involves a machine filtering blood?", o:["Transplant","Dialysis","Surgery","Vaccination"], a:1},
            {q:"In dialysis, blood flows alongside?", o:["Water","Dialysis fluid","Urine","Plasma"], a:1},
            {q:"Why does urea leave the blood in dialysis?", o:["Active transport","Concentration gradient (Diffusion)","Pressure","Gravity"], a:1},
            {q:"Dialysis fluid contains the same concentration of what as healthy blood?", o:["Urea","Glucose","Ammonia","Waste"], a:1},
            {q:"A disadvantage of kidney transplant is?", o:["Time consuming","Rejection risk","Restrictive diet","Frequent hospital visits"], a:1},
            {q:"To prevent rejection, patients take?", o:["Antibiotics","Painkillers","Immunosuppressants","Insulin"], a:2},
            {q:"The liver excretes bile pigments from the breakdown of?", o:["Haemoglobin","Glucose","Fats","DNA"], a:0},
            {q:"Lungs excrete?", o:["Urea","Carbon Dioxide","Oxygen","Nitrogen"], a:1},
            {q:"Which part of the skin releases water and salts?", o:["Hair follicle","Sweat gland","Oil gland","Capillary"], a:1},
            {q:"The process of maintaining constant internal conditions is?", o:["Peristalsis","Homeostasis","Digestion","Evolution"], a:1},
            {q:"Which hormone controls water reabsorption?", o:["Insulin","Adrenaline","ADH","Estrogen"], a:2},
            {q:"Where is ADH produced?", o:["Kidney","Pituitary Gland (Brain)","Pancreas","Liver"], a:1},
            {q:"If blood water content is LOW, ADH secretion?", o:["Increases","Decreases","Stops","Stays same"], a:0},
            {q:"More ADH causes the collecting duct to become?", o:["Less permeable","More permeable to water","Impermeable","Closed"], a:1},
            {q:"The knot of capillaries in the nephron is the?", o:["Bowman's Capsule","Glomerulus","Loop of Henle","Pelvis"], a:1},
            {q:"The cup-shaped structure surrounding the glomerulus is?", o:["Bowman's Capsule","Pelvis","Cortex","Tubule"], a:0},
            {q:"What drives Ultrafiltration?", o:["ATP","High Hydrostatic Pressure","Enzymes","Gravity"], a:1},
            {q:"Which substance is completely reabsorbed to prevent energy loss?", o:["Urea","Salt","Glucose","Water"], a:2},
            {q:"A kidney transplant donor must have a matching?", o:["Hair color","Tissue type","Height","Weight"], a:1},
            {q:"Immunosuppressant drugs make the patient more vulnerable to?", o:["Diabetes","Infectious diseases","Obesity","Blindness"], a:1},
            {q:"Which of these is NOT an excretory organ?", o:["Heart","Skin","Lungs","Kidneys"], a:0},
            {q:"Salts are excreted by?", o:["Lungs and Skin","Kidneys and Skin","Kidneys and Lungs","Liver and Lungs"], a:1},
            {q:"What moves urine down the ureter?", o:["Gravity only","Peristalsis","Blood pressure","Diffusion"], a:1},
            {q:"Which is a permanent cure for kidney failure?", o:["Dialysis","Transplant","Antibiotics","Insulin"], a:1}
        ];

        const qDiv = document.getElementById('q-container');
        const lets = ['A','B','C','D'];

        qData.forEach((q, idx) => {
            let opts = q.o.map((txt, i) => ({txt, i}));
            // Shuffle options
            opts.sort(() => Math.random() - 0.5);

            const card = document.createElement('div');
            card.className = 'q-card';
            card.innerHTML = `
                <h3 style="margin:0 0 15px 0; font-size:1.1rem; color:#334155;">${idx+1}. ${q.q}</h3>
                ${opts.map((o, k) => `
                    <div class="q-opt" onclick="check(${idx}, ${o.i}, this)">
                        <div class="q-let">${lets[k]}</div>
                        <div>${o.txt}</div>
                    </div>
                `).join('')}
            `;
            qDiv.appendChild(card);
        });

        function check(qIdx, oIdx, el) {
            const parent = el.parentElement;
            if(parent.classList.contains('locked')) return;
            parent.classList.add('locked');

            if(oIdx === qData[qIdx].a) {
                el.classList.add('correct');
            } else {
                el.classList.add('wrong');
                const text = qData[qIdx].o[qData[qIdx].a];
                for(let child of parent.children) {
                    if(child.innerText.includes(text)) child.classList.add('correct');
                }
            }
        }
    </script>
</body>
</html>
